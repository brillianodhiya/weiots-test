{"version":3,"sources":["../node_modules/rc-banner-anim/node_modules/rc-tween-one/es/util.js","../node_modules/rc-banner-anim/node_modules/rc-tween-one/es/easing.js","../node_modules/rc-banner-anim/node_modules/rc-tween-one/es/plugins.js","../node_modules/rc-banner-anim/node_modules/rc-tween-one/es/plugin/StylePlugin.js","../node_modules/rc-banner-anim/node_modules/rc-tween-one/es/Tween.js","../node_modules/rc-banner-anim/node_modules/rc-tween-one/es/ticker.js","../node_modules/rc-banner-anim/node_modules/rc-tween-one/es/TweenOne.js","../node_modules/rc-banner-anim/node_modules/rc-tween-one/es/TweenOneGroup.js","../node_modules/rc-banner-anim/node_modules/rc-tween-one/es/index.js","../node_modules/rc-banner-anim/es/Arrow.js","../node_modules/rc-banner-anim/es/utils.js","../node_modules/rc-banner-anim/es/Thumb.js","../node_modules/rc-banner-anim/es/anim.js","../node_modules/rc-banner-anim/es/BannerAnim.js","../node_modules/rc-banner-anim/es/BgElement.js","../node_modules/rc-banner-anim/es/Element.js","../node_modules/rc-banner-anim/es/index.js","../node_modules/rc-tween-one/es/util.js","../node_modules/rc-tween-one/es/easing.js","../node_modules/rc-tween-one/es/plugins.js","../node_modules/rc-tween-one/es/plugin/StylePlugin.js","../node_modules/rc-tween-one/es/Tween.js","../node_modules/rc-tween-one/es/ticker.js","../node_modules/rc-tween-one/es/TweenOne.js","../node_modules/rc-tween-one/es/TweenOneGroup.js","../node_modules/rc-tween-one/es/index.js"],"names":["windowIsUndefined","window","document","createElement","transformOrFilter","transform","filter","styleValueToArray","margin","padding","borderWidth","borderRadius","toArrayChildren","children","ret","React","Children","forEach","c","push","dataToArray","vars","Array","isArray","objectEqual","obj1","obj2","a","b","$a","Object","keys","$b","length","some","key","aa","bb","aaa","join","bbb","match","deepEql","equalBool","setEqualBool","objA","objB","toString","replace","item","i","findChildInChildrenByKey","transformArguments","arg","index","getChildrenFromProps","props","startConvertToEndUnit","target","computedStyle","style","num","unit","dataUnit","fixed","isOriginWidth","horiz","test","t","indexOf","parentNode","body","pix","htmlComputedStyle","parseFloat","clientWidth","clientHeight","fontSize","getComputedStyle","getElementsByTagName","getTransformValue","perspective","angle","rotate","rotateX","rotateY","sx","scaleX","sy","scaleY","sz","scaleZ","skx","skewX","sky","skewY","translateX","translateY","translateZ","sk","an","ss","rX","rY","defaultTranslate","trim","easingTypes","path","_path","_param","param","pathNode","charAt","domPath","createElementNS","setAttributeNS","querySelector","Error","parsePath","pathLength","getTotalLength","rect","lengthPixel","points","getPointAtLength","_c","d","p","linear","timePointX","x","y","Plugins","prototype","plugin","this","name","StylePlugin","type","propsData","setDefaultData","getTweenData","$vars","data","dataType","dataCount","dataSplitStr","split","map","parseColor","parseShadow","_item","_this","_key","_plugin","getGsapType","_data","convertToMarksArray","startUnit","endUnit","getAnimStart","tween","isSvg","_this2","tweenStyle","cssName","isConvert","startData","position","checkStyleName","_extends","getTransform","unitReg","filterName","filterObject","splitFilterToObject","bind","start","setArrayRatio","ratio","startInset","endInset","console","error","splice","_vars","endData","startIsAlpha","getColor","l","s","slice","color","setRatio","_this3","_isTransform","isTransform","startVars","endVars","count","css","xStart","yStart","transformSVG","createMatrix","_type","styleUnit","stylesToCss","cssList","value","filterStyle","filterKey","noop","defaultData","now","duration","delay","ease","onUpdate","onComplete","onStart","onRepeat","repeat","repeatDelay","yoyo","initTime","appearTo","perTime","currentRepeat","Tween","to","attr","toData","accuracy","totalTime","progressTime","startDefaultData","perFrame","Math","round","register","ownerSVGElement","setAttrIsStyle","defaultParam","_d","getAttribute","bezier","getValue","repeatMax","appearToBool","appearToTime","tweenData","SVGMorph","warn","appearNow","mode","Number","MAX_VALUE","defaultView","attrStyle","k","getAnimStartData","attribute","setAnimData","_this4","_this5","_endData","_i","setValue","setAttribute","render","_this6","reverse","toFixed","repeatNum","ceil","e","cb","moment","maxPer","startTime","updateAnim","reset","onChange","currentProgress","reverseStartTime","frame","_this7","init","resetAnimData","resetDefaultStyle","_this8","domStyle","defaultStyle","$data","getStyleToArray","styleString","str","styleToArray","domStyleToArray","$name","styleName","toCssLowerCase","$item","concat","getDefaultStyle","cssText","reStart","preStyle","isTween","_this9","getTime","Date","sortObj","interval","timeout","TweenOneTicker","tickObjToArray","obj","func","sort","Ticker","tickFnArray","tickKeyObject","id","tweenId","elapsed","lastUpdate","nextTime","time","add","fn","wake","requestAnimationFrame","tick","clear","sleep","cancel","ticker","overlap","timeoutIdNumber","timeoutID","intervalIdNumber","intervalID","starTime","objectOrArray","PropTypes","oneOfType","object","array","TweenOne","_Component","_classCallCheck","_possibleConstructorReturn","__proto__","getPrototypeOf","call","_initialiseProps","rafID","paused","currentRef","forced","setForcedJudg","state","$self","_inherits","_createClass","_ref","prevProps","nextState","dom","newAnimation","animation","resetStyle","nextMoment","startMoment","raf","play","cancelRequestAnimationFrame","reverseDelay","restart","ReactDom","findDOMNode","nodeName","_props","component","componentProps","forcedJudg","_objectWithoutProperties","prefix","refFunc","className","_ref2","childStyle","childClass","newStyle","newClassName","cloneElement","ref","Component","propTypes","any","bool","number","string","defaultProps","setDefault","floor","tweenMoment","timelineMode","timelineRepeatNum","isTweenOne","polyfill","TweenOneGroup","keysToEnter","keysToLeave","saveTweenTag","onEnterBool","animQueue","currentChildren","nextChildren","exclusive","changeChildren","newChildren","prev","next","nextChildrenPending","pendingChildren","followChildrenKey","hasOwnProperty","mergeChildren","hasPrev","childrenToRender","getChildrenToRender","appear","enter","leave","animatingClassName","onEnd","tag","classIsSvg","isEnter","baseVal","setClassName","reAnimQueue","child","currentChildrenKeys","$key","setState","_obj","getTweenChild","arguments","undefined","getCoverAnimation","animate","opacity","isTweenOneGroup","group","easing","_easing","plugins","_plugins","_ticker","_tween","Arrow","_temp","_ret","_len","args","apply","onClick","stopPropagation","arrowType","defaultBool","prefixCls","defaultClass","$props","isBannerAnimArrow","setAnimCompToTagComp","itemProps","domAttrArray","toLocaleLowerCase","currentScrollTop","pageYOffset","scrollTop","documentElement","switchChildren","hideProps","Thumb","getDefaultThumb","thumbClick","active","propsChildren","childToRender","isBannerAnimThumb","across","elem","direction","animData","elemOffset","leaveChildHide","_x","vertical","_y","acrossOverlay","verticalOverlay","gridBar","animChild","gridNum","width","girdSize","left","overflow","_style","height","float","animProps","mask","animSlot","top","grid","gridWidth","gridNumH","_delay","BannerAnim","onMouseEnter","autoPlay","autoPlayEffect","autoPlayId","onMouseLeave","onTouchStart","touches","elemWrapper","getDomIsArrowOrThumb","button","tweenBool","animType","getAnimType","currentShow","mouseStartXY","startX","clientX","startY","clientY","onTouchMove","_this$getDiffer","getDiffer","differ","rectName","domRect","ratioType","mouseMoveType","abs","onTouchEnd","changedTouches","_this$getDiffer2","slickGoTo","forceUpdate","currentX","currentY","differX","differY","max","arrowClassName","thumbClassName","getRenderChildren","arrow","thumb","elementKeyNum","thumbKeyNum","isBannerAnimElement","callBack","animEnd","show","sync","getDomDataSetToState","ReactDOM","getBoundingClientRect","typeArray","random","autoPlaySpeed","animTweenStart","noGetAnimType","newShow","initShow","addEventListener","attachEvent","removeEventListener","detachEvent","dragPlay","onMouseDown","onMouseMove","isBannerAnim","BgElement","_React$Component","onScroll","offsetTop","innerHeight","scale","scrollParallaxDuration","onResize","videoDomRect","video","videoLoad","videoRect","display","videoLoadedData","isVideo","scrollParallax","setTimeout","videoResize","onloadeddata","isBannerAnimBgElement","Element","tickerId","enterMouse","delayTimeout","followParallax","reFollowParallax","doms","getElementById","propsStyle","_state","currentMouseMoveType","bgElem","getFollowMouseMove","getChildren","animChildren","domWH","w","h","offsetLeft","pageXOffset","scrollLeft","mouseXY","pageX","pageY","setTicker","callback","startFrame","easeFunc","easeTween","minMove","setFollowStyle","getFollowStyle","mouseData","domData","styleStr","bgPosition","useTagComp","_","_props2","currentAnimType","zIndex","$ratio","tagProps"],"mappings":"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","file":"static/js/23.6221120c.chunk.js","sourcesContent":["import React from 'react';\n\nexport var windowIsUndefined = !(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nexport var transformOrFilter = {\n  transform: 1,\n  '-ms-transform': 1,\n  '-moz-transform': 1,\n  '-webkit-transform': 1,\n  '-o-transform': 1,\n  filter: 1,\n  '-webkit-filter': 1\n};\n\nexport var styleValueToArray = {\n  margin: 1,\n  padding: 1,\n  borderWidth: 1,\n  borderRadius: 1\n};\n\nexport function toArrayChildren(children) {\n  var ret = [];\n  React.Children.forEach(children, function (c) {\n    ret.push(c);\n  });\n  return ret;\n}\n\nexport function dataToArray(vars) {\n  if (!vars && vars !== 0) {\n    return [];\n  }\n  if (Array.isArray(vars)) {\n    return vars;\n  }\n  return [vars];\n}\n\nfunction deepEql(a, b) {\n  if (!a || !b) {\n    return false;\n  }\n  var $a = Object.keys(a);\n  var $b = Object.keys(b);\n  if ($a.length && $b.length && $a.length === $b.length) {\n    return !$a.some(function (key) {\n      var aa = a[key];\n      var bb = b[key];\n      if (Array.isArray(aa) && Array.isArray(bb)) {\n        var aaa = aa.join();\n        var bbb = bb.join();\n        if (aaa === bbb && !aaa.match(/\\[object object\\]/ig)) {\n          aa = aaa;\n          bb = bbb;\n        }\n      }\n      return aa !== bb;\n    });\n  }\n  return false;\n}\n\nexport function objectEqual(obj1, obj2) {\n  if (obj1 === obj2 || deepEql(obj1, obj2)) {\n    return true;\n  }\n  if (!obj1 || !obj2 || Object.keys(obj1).length !== Object.keys(obj2).length) {\n    return false;\n  }\n  // animation 写在标签上的进行判断是否相等， 判断每个参数有没有 function;\n  var equalBool = true;\n  var setEqualBool = function setEqualBool($a, $b) {\n    var objA = Object.keys($a).length > Object.keys($b).length ? $a : $b;\n    var objB = Object.keys($a).length > Object.keys($b).length ? $b : $a;\n    Object.keys(objA).forEach(function (key) {\n      // 如果前面有参数匹配不相同则直接返回；\n      if (!equalBool) {\n        return;\n      }\n      if (!(key in objB)) {\n        equalBool = false;\n      }\n\n      if (typeof objA[key] === 'object' && typeof objB[key] === 'object') {\n        equalBool = objectEqual(objA[key], objB[key]);\n      } else if (typeof objA[key] === 'function' && typeof objB[key] === 'function') {\n        if (objA[key].toString().replace(/\\s+/g, '') !== objB[key].toString().replace(/\\s+/g, '')) {\n          equalBool = false;\n        }\n      } else if (objA[key] !== objB[key]) {\n        equalBool = false;\n      }\n    });\n  };\n\n  if (Array.isArray(obj1) && Array.isArray(obj2)) {\n    if (obj1.length !== obj2.length) {\n      return false;\n    }\n    obj1.forEach(function (item, i) {\n      setEqualBool(item, obj2[i]);\n    });\n  } else {\n    setEqualBool(obj1, obj2);\n  }\n  return equalBool;\n}\n\nexport function findChildInChildrenByKey(children, key) {\n  var ret = null;\n  if (children) {\n    children.forEach(function (c) {\n      if (ret || !c) {\n        return;\n      }\n      if (c.key === key) {\n        ret = c;\n      }\n    });\n  }\n  return ret;\n}\n\nexport function mergeChildren(prev, next) {\n  var ret = [];\n  // For each key of `next`, the list of keys to insert before that key in\n  // the combined list\n  var nextChildrenPending = {};\n  var pendingChildren = [];\n  var followChildrenKey = void 0;\n  prev.forEach(function (c) {\n    if (!c) {\n      return;\n    }\n    if (findChildInChildrenByKey(next, c.key)) {\n      if (pendingChildren.length) {\n        nextChildrenPending[c.key] = pendingChildren;\n        pendingChildren = [];\n      }\n      followChildrenKey = c.key;\n    } else if (c.key) {\n      pendingChildren.push(c);\n    }\n  });\n  if (!followChildrenKey) {\n    ret = ret.concat(pendingChildren);\n  }\n\n  next.forEach(function (c) {\n    if (!c) {\n      return;\n    }\n    if (nextChildrenPending.hasOwnProperty(c.key)) {\n      // eslint-disable-line no-prototype-builtins\n      ret = ret.concat(nextChildrenPending[c.key]);\n    }\n    ret.push(c);\n    if (c.key === followChildrenKey) {\n      ret = ret.concat(pendingChildren);\n    }\n  });\n\n  return ret;\n}\n\nexport function transformArguments(arg, key, i) {\n  var result = void 0;\n  if (typeof arg === 'function') {\n    result = arg({\n      key: key,\n      index: i\n    });\n  } else {\n    result = arg;\n  }\n  return result;\n}\n\nexport function getChildrenFromProps(props) {\n  return props && props.children;\n}\n\nexport function startConvertToEndUnit(target, computedStyle, style, num, unit, dataUnit, fixed, isOriginWidth) {\n  if (windowIsUndefined) {\n    return num;\n  }\n  var horiz = /(?:Left|Right|Width|X)/i.test(style) || isOriginWidth;\n  horiz = style === 'padding' || style === 'marign' ? true : horiz;\n  var t = style.indexOf('border') !== -1 || style.indexOf('translate') !== -1 || style === 'transformOrigin' ? target : target.parentNode || document.body;\n  t = fixed ? document.body : t;\n  var pix = void 0;\n  var htmlComputedStyle = void 0;\n  // transform 在 safari 下会留着单位，chrome 下会全部转换成 px;\n  switch (unit) {\n    case '%':\n      pix = parseFloat(num) / 100 * (horiz ? t.clientWidth : t.clientHeight);\n      break;\n    case 'vw':\n      pix = parseFloat(num) * document.body.clientWidth / 100;\n      break;\n    case 'vh':\n      pix = parseFloat(num) * document.body.clientHeight / 100;\n      break;\n    case 'em':\n      pix = parseFloat(num) * parseFloat(computedStyle.fontSize);\n      break;\n    case 'rem':\n      {\n        htmlComputedStyle = window.getComputedStyle(document.getElementsByTagName('html')[0]);\n        pix = parseFloat(num) * parseFloat(htmlComputedStyle.fontSize);\n        break;\n      }\n    default:\n      pix = parseFloat(num);\n      break;\n  }\n  switch (dataUnit) {\n    case '%':\n      pix = pix ? pix * 100 / (horiz ? t.clientWidth : t.clientHeight) : 0;\n      break;\n    case 'vw':\n      pix = parseFloat(num) / document.body.clientWidth * 100;\n      break;\n    case 'vh':\n      pix = parseFloat(num) / document.body.clientHeight * 100;\n      break;\n    case 'em':\n      pix = parseFloat(num) / parseFloat(computedStyle.fontSize);\n      break;\n    case 'rem':\n      {\n        htmlComputedStyle = htmlComputedStyle || window.getComputedStyle(document.getElementsByTagName('html')[0]);\n        pix = parseFloat(num) / parseFloat(htmlComputedStyle.fontSize);\n        break;\n      }\n    default:\n      break;\n  }\n  return pix;\n}\n\nexport function parsePath(path) {\n  if (typeof path === 'string') {\n    if (path.charAt(0).match(/m/i)) {\n      var domPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n      domPath.setAttributeNS(null, 'd', path);\n      return domPath;\n    }\n    return document.querySelector(path);\n  } else if (path.style) {\n    return path;\n  }\n  throw new Error('Error while parsing the path');\n}\n\nexport function getTransformValue(t) {\n  if (typeof t === 'string') {\n    return t;\n  }\n  var perspective = t.perspective;\n  var angle = t.rotate;\n  var rotateX = t.rotateX;\n  var rotateY = t.rotateY;\n  var sx = t.scaleX;\n  var sy = t.scaleY;\n  var sz = t.scaleZ;\n  var skx = t.skewX;\n  var sky = t.skewY;\n  var translateX = typeof t.translateX === 'string' ? t.translateX : t.translateX + 'px';\n  var translateY = typeof t.translateY === 'string' ? t.translateY : t.translateY + 'px';\n  var translateZ = typeof t.translateZ === 'string' ? t.translateZ : t.translateZ + 'px';\n  var sk = skx || sky ? 'skew(' + skx + 'deg,' + sky + 'deg)' : '';\n  var an = angle ? 'rotate(' + angle + 'deg)' : '';\n  var ss = sx !== 1 || sy !== 1 || sz !== 1 ? 'scale3d(' + sx + ',' + sy + ',' + sz + ')' : '';\n  var rX = rotateX ? 'rotateX(' + rotateX + 'deg)' : '';\n  var rY = rotateY ? 'rotateY(' + rotateY + 'deg)' : '';\n  var per = perspective ? 'perspective(' + perspective + 'px)' : '';\n  var defaultTranslate = ss || an || rX || rY || sk ? '' : 'translate(0px, 0px)';\n  var translate = t.translateZ ? 'translate3d(' + translateX + ',' + translateY + ',' + translateZ + ')' : (t.translateX || t.translateY) && 'translate(' + translateX + ',' + translateY + ')' || defaultTranslate;\n  return (per + ' ' + translate + ' ' + ss + ' ' + an + ' ' + rX + ' ' + rY + ' ' + sk).trim();\n}","import easingTypes from 'tween-functions';\nimport { windowIsUndefined, parsePath } from './util';\n\neasingTypes.path = function (_path, _param) {\n  var param = _param || {};\n  if (windowIsUndefined) {\n    return 'linear';\n  }\n  var pathNode = parsePath(_path);\n  var pathLength = pathNode.getTotalLength();\n  var rect = param.rect || 100; // path 的大小，100 * 100，\n  var lengthPixel = param.lengthPixel || 200; // 线上取点像素，默认分为 200 段。。\n  var points = [];\n  for (var i = 0; i < lengthPixel - 1; i++) {\n    points.push(pathNode.getPointAtLength(pathLength / (lengthPixel - 1) * i));\n  }\n  points.push(pathNode.getPointAtLength(lengthPixel));\n  return function path(t, b, _c, d) {\n    var p = easingTypes.linear(t, b, _c, d);\n    var timePointX = rect * p; // X 轴的百分比;\n    // 取出 x 轴百分比上的点;\n    var point = points.filter(function (item) {\n      return item.x >= timePointX;\n    })[0] || pathNode.getPointAtLength(p * pathLength);\n    return 1 - point.y / rect;\n  };\n};\n\nexport default easingTypes;","/* eslint-disable func-names */\nvar Plugins = function Plugins() {};\nvar p = Plugins.prototype;\np.push = function (plugin) {\n  this[plugin.prototype.name] = plugin;\n};\nexport default new Plugins();","import _extends from 'babel-runtime/helpers/extends';\n/* eslint-disable func-names, no-console */\nimport { cssList, checkStyleName, getGsapType, parseShadow, getColor, parseColor, isTransform, isConvert, splitFilterToObject, getTransform, stylesToCss, createMatrix } from 'style-utils';\nimport { startConvertToEndUnit, getTransformValue, styleValueToArray } from '../util.js';\nimport _plugin from '../plugins';\n\nvar StylePlugin = function StylePlugin(target, vars, type) {\n  this.target = target;\n  this.vars = vars;\n  this.type = type;\n  this.propsData = {};\n  this.setDefaultData();\n};\nStylePlugin.prototype = {\n  name: 'style'\n};\nvar p = StylePlugin.prototype;\np.getTweenData = function (key, $vars) {\n  var data = {\n    data: {},\n    dataType: {},\n    dataUnit: {},\n    dataCount: {},\n    dataSplitStr: {}\n  };\n  var vars = $vars;\n  if (styleValueToArray[key]) {\n    vars = vars.toString().split(' ');\n    vars = vars.map(function (c) {\n      return typeof $vars === 'number' ? c + 'px' : c;\n    });\n    vars[1] = vars[1] || vars[0];\n    vars[2] = vars[2] || vars[0];\n    vars[3] = vars[3] || vars[1] || vars[0];\n    vars = vars.join(' ');\n  }\n  if (key.match(/colo|fill|storker/i)) {\n    data.data[key] = parseColor(vars);\n    data.dataType[key] = 'color';\n  } else if (key === 'strokeDasharray') {\n    data.data[key] = vars.split(',');\n    data.dataType[key] = 'strokeDasharray';\n  } else if (key.match(/shadow/i)) {\n    data.data[key] = parseShadow(vars);\n    data.dataType[key] = 'shadow';\n  } else if (typeof vars === 'string' && vars.split(/[\\s|,]/).length > 1) {\n    data.data[key] = vars.split(/[\\s|,]/);\n    data.dataSplitStr[key] = vars.replace(/[^\\s|,]/g, '').replace(/\\s+/g, ' ');\n    data.dataType[key] = 'string';\n  } else {\n    data.data[key] = vars;\n    data.dataType[key] = 'other';\n  }\n  if (Array.isArray(data.data[key])) {\n    data.dataUnit[key] = data.data[key].map(function (_item) {\n      return _item.toString().replace(/[^a-z|%]/g, '');\n    });\n    data.dataCount[key] = data.data[key].map(function (_item) {\n      return _item.toString().replace(/[^+|=|-]/g, '');\n    });\n\n    data.data[key] = data.data[key].map(function (_item) {\n      return !parseFloat(_item) && parseFloat(_item) !== 0 ? _item : parseFloat(_item);\n    });\n  } else {\n    data.dataUnit[key] = data.data[key].toString().replace(/[^a-z|%]/g, '');\n    data.dataCount[key] = data.data[key].toString().replace(/[^+|=|-]/g, '');\n    var d = parseFloat(data.data[key].toString().replace(/[a-z|%|=]/g, ''));\n    data.data[key] = !d && d !== 0 ? data.data[key] : d;\n  }\n  return data;\n};\np.setDefaultData = function () {\n  var _this = this;\n\n  this.propsData.data = {};\n  this.propsData.dataType = {};\n  this.propsData.dataUnit = {};\n  this.propsData.dataCount = {};\n  this.propsData.dataSplitStr = {};\n  Object.keys(this.vars).forEach(function (_key) {\n    if (_key in _plugin) {\n      _this.propsData.data[_key] = new _plugin[_key](_this.target, _this.vars[_key]);\n      return;\n    }\n    var key = getGsapType(_key);\n    var _data = _this.getTweenData(key, _this.vars[_key]);\n    _this.propsData.data[key] = _data.data[key];\n    _this.propsData.dataType[key] = _data.dataType[key];\n    _this.propsData.dataUnit[key] = _data.dataUnit[key];\n    _this.propsData.dataCount[key] = _data.dataCount[key];\n    if (_data.dataSplitStr[key]) {\n      _this.propsData.dataSplitStr[key] = _data.dataSplitStr[key];\n    }\n  });\n};\np.convertToMarksArray = function (computedStyle, unit, key, data, i) {\n  var startUnit = data.toString().replace(/[^a-z|%]/g, '');\n  var endUnit = unit[i];\n  if (startUnit === endUnit) {\n    return parseFloat(data);\n  } else if (!parseFloat(data) && parseFloat(data) !== 0) {\n    return data;\n  }\n  return startConvertToEndUnit(this.target, computedStyle, key, data, startUnit, endUnit, null, key === 'transformOrigin' && !i);\n};\np.getAnimStart = function (computedStyle, tween, isSvg) {\n  var _this2 = this;\n\n  var style = {};\n  var tweenStyle = tween.style || {};\n  var transform = void 0;\n  Object.keys(this.propsData.data).forEach(function (key) {\n    var cssName = isConvert(key);\n    var startData = tweenStyle[cssName] || computedStyle[cssName];\n    var fixed = computedStyle.position === 'fixed';\n    if (!startData || startData === 'none' || startData === 'auto') {\n      startData = '';\n    }\n    var endUnit = void 0;\n    var startUnit = void 0;\n    if (key in _plugin) {\n      if (key === 'bezier') {\n        _this2.transform = checkStyleName('transform');\n        startData = computedStyle[isSvg ? 'transformSVG' : _this2.transform];\n        transform = transform || (tweenStyle.transform ? _extends({}, tweenStyle.transform) : style.transform || getTransform(startData));\n        style.transform = transform;\n      }\n      _this2.propsData.data[key].getAnimStart(computedStyle, isSvg);\n    } else if (cssName === 'transform') {\n      _this2.transform = checkStyleName('transform');\n      startData = computedStyle[isSvg ? 'transformSVG' : _this2.transform];\n      endUnit = _this2.propsData.dataUnit[key];\n      transform = transform || (tweenStyle.transform ? _extends({}, tweenStyle.transform) : style.transform || getTransform(startData));\n      var unitReg = /%|vw|vh|em|rem/i;\n      if (endUnit && endUnit.match(unitReg)) {\n        transform[key] = transform[key] && transform[key].toString().match(unitReg) ? parseFloat(transform[key]) : startConvertToEndUnit(_this2.target, computedStyle, key, transform[key], null, endUnit);\n      }\n      style.transform = transform;\n    } else if (cssName === 'filter') {\n      if (tweenStyle[cssName]) {\n        startData = tweenStyle[cssName];\n      } else {\n        _this2.filterName = checkStyleName('filter') || 'filter';\n        startData = computedStyle[_this2.filterName];\n        _this2.filterObject = _extends({}, _this2.filterObject, splitFilterToObject(startData));\n        startData = _this2.filterObject[key] || 0;\n      }\n      startUnit = startData.toString().replace(/[^a-z|%]/g, '');\n      endUnit = _this2.propsData.dataUnit[key];\n      if (endUnit !== startUnit) {\n        startData = startConvertToEndUnit(_this2.target, computedStyle, cssName, parseFloat(startData), startUnit, endUnit, fixed);\n      }\n      style[key] = parseFloat(startData);\n    } else if (key.match(/color|fill/i) || key === 'stroke') {\n      startData = !startData && key === 'stroke' ? 'rgba(255, 255, 255, 0)' : startData;\n      style[cssName] = parseColor(startData);\n    } else if (key.match(/shadow/i)) {\n      startData = parseShadow(startData);\n      endUnit = _this2.propsData.dataUnit[key];\n      startData = startData.map(_this2.convertToMarksArray.bind(_this2, computedStyle, endUnit, key));\n      style[cssName] = startData;\n    } else if (Array.isArray(_this2.propsData.data[key])) {\n      startData = startData.split(/[\\s|,]/).filter(function (c) {\n        return c || c === 0;\n      });\n      endUnit = _this2.propsData.dataUnit[key];\n      startData = startData.map(_this2.convertToMarksArray.bind(_this2, computedStyle, endUnit, key));\n      style[cssName] = startData;\n    } else {\n      // 计算单位\n      endUnit = _this2.propsData.dataUnit[cssName];\n      startUnit = startData.toString().replace(/[^a-z|%]/g, '');\n      if (endUnit !== startUnit) {\n        startData = startConvertToEndUnit(_this2.target, computedStyle, cssName, parseFloat(startData), startUnit, endUnit, fixed);\n      }\n      style[cssName] = parseFloat(startData || 0);\n    }\n  });\n  this.start = style;\n  return style;\n};\np.setArrayRatio = function (ratio, start, vars, unit, type) {\n  if (type === 'color' && start.length === 4 && vars.length === 3) {\n    vars[3] = 1;\n  }\n  var startInset = start.indexOf('inset') >= 0;\n  var endInset = vars.indexOf('inset') >= 0;\n  if (startInset && !endInset || endInset && !startInset) {\n    throw console.error('Error: \"box-shadow\" inset have to exist');\n  }\n  var length = endInset ? 9 : 8;\n  if (start.length === length && vars.length === length - 1) {\n    vars.splice(3, 0, 0);\n    unit.splice(3, 0, '');\n  } else if (vars.length === length && start.length === length - 1) {\n    start.splice(3, 0, 0);\n  }\n  var _vars = vars.map(function (endData, i) {\n    var startIsAlpha = type === 'color' && i === 3 && !start[i] ? 1 : 0;\n    var startData = typeof start[i] === 'number' ? start[i] : startIsAlpha;\n    if (typeof endData === 'string') {\n      return endData;\n    }\n    return (endData - startData) * ratio + startData + (unit[i] || 0);\n  });\n  if (type === 'color') {\n    return getColor(_vars);\n  } else if (type === 'shadow') {\n    var l = _vars.length === length ? 4 : 3;\n    var s = _vars.slice(0, l).map(function (item) {\n      if (typeof item === 'number') {\n        return item + 'px';\n      }\n      return item;\n    });\n    var c = _vars.slice(l, endInset ? _vars.length - 1 : _vars.length);\n    var color = getColor(c);\n    return (s.join(' ') + ' ' + color + ' ' + (endInset ? 'inset' : '')).trim();\n  }\n  return _vars;\n};\n\np.setRatio = function (ratio, tween, computedStyle) {\n  var _this3 = this;\n\n  tween.style = tween.style || {};\n  if (this.start.transform) {\n    tween.style.transform = tween.style.transform || _extends({}, this.start.transform);\n  }\n  var style = this.target.style;\n  Object.keys(this.propsData.data).forEach(function (key) {\n    var _isTransform = isTransform(key) === 'transform';\n    var startVars = _isTransform ? _this3.start.transform[key] : _this3.start[key];\n    var endVars = _this3.propsData.data[key];\n    var unit = _this3.propsData.dataUnit[key];\n    var count = _this3.propsData.dataCount[key];\n    if (key in _plugin) {\n      _this3.propsData.data[key].setRatio(ratio, tween, computedStyle);\n      if (key === 'bezier') {\n        style[_this3.transform] = getTransformValue(tween.style.transform);\n      } else {\n        Object.keys(tween.style).forEach(function (css) {\n          style[css] = tween.style[css];\n        });\n      }\n      return;\n    } else if (_isTransform) {\n      if (unit && unit.match(/%|vw|vh|em|rem/i)) {\n        startVars = parseFloat(_this3.start.transform[key]);\n        if (count.charAt(1) === '=') {\n          tween.style.transform[key] = startVars + endVars * ratio + unit;\n        } else {\n          tween.style.transform[key] = (endVars - startVars) * ratio + startVars + unit;\n        }\n      } else if (key === 'scale') {\n        var xStart = _this3.start.transform.scaleX;\n        var yStart = _this3.start.transform.scaleY;\n        if (count.charAt(1) === '=') {\n          tween.style.transform.scaleX = xStart + endVars * ratio;\n          tween.style.transform.scaleY = yStart + endVars * ratio;\n        } else {\n          tween.style.transform.scaleX = (endVars - xStart) * ratio + xStart;\n          tween.style.transform.scaleY = (endVars - yStart) * ratio + yStart;\n        }\n      } else if (count.charAt(1) === '=') {\n        tween.style.transform[key] = startVars + endVars * ratio;\n      } else {\n        tween.style.transform[key] = (endVars - startVars) * ratio + startVars;\n      }\n      style[_this3.transform] = getTransformValue(tween.style.transform);\n      if (computedStyle) {\n        computedStyle.transformSVG = createMatrix(style[_this3.transform]).toString();\n      }\n      return;\n    } else if (Array.isArray(endVars)) {\n      var _type = _this3.propsData.dataType[key];\n      tween.style[key] = _this3.setArrayRatio(ratio, startVars, endVars, unit, _type);\n      if (_type === 'string') {\n        tween.style[key] = tween.style[key].join(_this3.propsData.dataSplitStr[key]);\n      }\n    } else {\n      var styleUnit = stylesToCss(key, 0);\n      styleUnit = typeof styleUnit === 'number' ? '' : styleUnit.replace(/[^a-z|%]/g, '');\n      unit = unit || (cssList.filter.indexOf(key) >= 0 ? '' : styleUnit);\n      if (typeof endVars === 'string') {\n        tween.style[key] = endVars;\n      } else if (count.charAt(1) === '=') {\n        tween.style[key] = startVars + endVars * ratio + unit;\n      } else {\n        var value = (endVars - startVars) * ratio + startVars;\n        tween.style[key] = unit ? '' + value + unit : value;\n      }\n    }\n    if (cssList.filter.indexOf(key) >= 0) {\n      if (!_this3.filterObject) {\n        return;\n      }\n      _this3.filterObject[key] = tween.style[key];\n      var filterStyle = '';\n      Object.keys(_this3.filterObject).forEach(function (filterKey) {\n        filterStyle += ' ' + filterKey + '(' + _this3.filterObject[filterKey] + ')';\n      });\n      style[_this3.filterName] = filterStyle.trim();\n      return;\n    }\n    style[key] = tween.style[key];\n  });\n};\nexport default StylePlugin;","import _extends from 'babel-runtime/helpers/extends';\n/* eslint-disable func-names */\n/**\n * Created by jljsj on 16/1/27.\n */\nimport { getColor, parseColor, toFixed, stylesToCss, createMatrix, getGsapType, isTransform, checkStyleName, toCssLowerCase } from 'style-utils';\n\nimport easingTypes from './easing';\nimport _plugin from './plugins';\nimport StylePlugin from './plugin/StylePlugin';\nimport { startConvertToEndUnit, transformOrFilter, dataToArray } from './util.js';\n\nvar DEFAULT_EASING = 'easeInOutQuad';\nvar DEFAULT_DURATION = 450;\nvar DEFAULT_DELAY = 0;\nfunction noop() {}\n_plugin.push(StylePlugin);\n// 设置默认数据\nfunction defaultData(vars, now) {\n  var duration = vars.duration || vars.duration === 0 ? vars.duration : DEFAULT_DURATION;\n  return {\n    duration: vars.type === 'set' ? 0 : duration,\n    delay: vars.delay || DEFAULT_DELAY,\n    ease: typeof vars.ease === 'function' ? vars.ease : easingTypes[vars.ease || DEFAULT_EASING],\n    onUpdate: vars.onUpdate || noop,\n    onComplete: vars.onComplete || noop,\n    onStart: vars.onStart || noop,\n    onRepeat: vars.onRepeat || noop,\n    repeat: vars.repeat || 0,\n    repeatDelay: vars.repeatDelay || 0,\n    yoyo: vars.yoyo || false,\n    type: vars.type === 'from' ? 'from' : 'to',\n    initTime: now,\n    appearTo: typeof vars.appearTo === 'number' ? vars.appearTo : null,\n    perTime: 0,\n    currentRepeat: 0\n  };\n}\n\nvar Tween = function Tween(target, to, attr) {\n  var toData = dataToArray(to);\n  this.target = target;\n  this.attr = attr || 'style';\n  // 时间精度补齐；\n  this.accuracy = 0.00001;\n  // 记录总时间;\n  this.totalTime = 0;\n  // 记录当前时间;\n  this.progressTime = 0;\n  // 记录时间轴数据;\n  this.defaultData = [];\n  // 每个的开始数据；\n  this.start = {};\n  // 开始默认的数据；\n  this.startDefaultData = {};\n  // 动画过程\n  this.tween = {};\n  // toData;\n  this.data = toData;\n  // 每帧的时间;\n  this.perFrame = Math.round(1000 / 60);\n  // 注册，第一次进入执行注册\n  this.register = false;\n  // svg元素\n  this.isSvg = this.target.ownerSVGElement;\n  // 设置 style\n  var data = this.setAttrIsStyle();\n  // 设置默认动画数据;\n  this.setDefaultData(data);\n};\nvar p = Tween.prototype;\np.setAttrIsStyle = function () {\n  var _this = this;\n\n  var data = [];\n  var defaultParam = defaultData({}, 0);\n  this.data.forEach(function (d, i) {\n    var _d = _extends({}, d);\n    if (_this.attr === 'style') {\n      data[i] = {};\n      Object.keys(_d).forEach(function (key) {\n        if (key in defaultParam) {\n          data[i][key] = _d[key];\n          delete _d[key];\n        }\n      });\n      data[i].style = _d;\n      _this.startDefaultData.style = _this.target.getAttribute('style') || '';\n    } else if (_this.attr === 'attr') {\n      Object.keys(_d).forEach(function (key) {\n        if (key === 'style' && Array.isArray(d[key])) {\n          throw new Error('Style should be the object.');\n        }\n        if (key === 'bezier') {\n          _d.style = _extends({}, _d.style, { bezier: _d[key] });\n          delete _d[key];\n          _this.startDefaultData.style = _this.target.getAttribute('style') || '';\n        } else {\n          if (key in defaultParam) {\n            return;\n          }\n          _this.startDefaultData[key] = _this.getValue(key);\n        }\n      });\n      data[i] = _d;\n    }\n  });\n  return data;\n};\np.setDefaultData = function (_vars) {\n  var _this2 = this;\n\n  var now = 0;\n  var repeatMax = false;\n  var data = _vars.map(function (item) {\n    var appearToBool = typeof item.appearTo === 'number';\n    // 加上延时，在没有播放过时；\n    if (!appearToBool) {\n      now += item.delay || 0;\n    }\n    var appearToTime = (item.appearTo || 0) + (item.delay || 0);\n    // 获取默认数据\n    var tweenData = defaultData(item, appearToBool ? appearToTime : now);\n    tweenData.vars = {};\n    Object.keys(item).forEach(function (_key) {\n      if (!(_key in tweenData)) {\n        var _data = item[_key];\n        if (_key in _plugin) {\n          tweenData.vars[_key] = new _plugin[_key](_this2.target, _data, tweenData.type);\n        } else if ((_key === 'd' || _key === 'points') && 'SVGMorph' in _plugin) {\n          tweenData.vars[_key] = new _plugin.SVGMorph(_this2.target, _data, _key);\n        } else if (_key.match(/color/i) || _key === 'stroke' || _key === 'fill') {\n          tweenData.vars[_key] = { type: 'color', vars: parseColor(_data) };\n        } else if (typeof _data === 'number' || _data.split(/[,|\\s]/g).length <= 1) {\n          var vars = parseFloat(_data);\n          var unit = _data.toString().replace(/[^a-z|%]/g, '');\n          var count = _data.toString().replace(/[^+|=|-]/g, '');\n          tweenData.vars[_key] = { unit: unit, vars: vars, count: count };\n        }\n      }\n    });\n    if (tweenData.yoyo && !tweenData.repeat) {\n      console.warn('Warning: yoyo must be used together with repeat;'); // eslint-disable-line\n    }\n    if (tweenData.repeat === -1) {\n      repeatMax = true;\n    }\n    var repeat = tweenData.repeat === -1 ? 0 : tweenData.repeat;\n    if (appearToBool) {\n      // 如果有 appearTo 且这条时间比 now 大时，，总时间用这条；\n      var appearNow = item.appearTo + (item.delay || 0) + tweenData.duration * (repeat + 1) + tweenData.repeatDelay * repeat;\n      now = appearNow >= now ? appearNow : now;\n    } else if (tweenData.delay < -tweenData.duration) {\n      // 如果延时小于 负时间时,,不加,再减回延时;\n      now -= tweenData.delay;\n    } else {\n      // repeat 为 -1 只记录一次。不能跟 reverse 同时使用;\n      now += tweenData.duration * (repeat + 1) + tweenData.repeatDelay * repeat;\n    }\n    tweenData.mode = '';\n    return tweenData;\n  });\n  this.totalTime = repeatMax ? Number.MAX_VALUE : now;\n  this.defaultData = data;\n};\np.getComputedStyle = function () {\n  var style = typeof window !== 'undefined' && document.defaultView ? document.defaultView.getComputedStyle(this.target) : {};\n  // 如果是 SVG, 样式全部提出为 transformSVG, 兼容 safari 不能获取 transform;\n  if (this.isSvg) {\n    var transform = style[checkStyleName('transform')] || 'none';\n    if (transform === 'none') {\n      var attrStyle = this.target.getAttribute('style');\n      if (attrStyle && attrStyle.indexOf('transform:') >= 0) {\n        transform = attrStyle.split(';').filter(function (k) {\n          return k.indexOf('transform:') >= 0;\n        }).map(function (item) {\n          return createMatrix(item.split(':')[1].trim()).toString();\n        })[0];\n      } else if (this.target.getAttribute('transform')) {\n        // 暂时不支持标签上的 transform，后期增加;\n        console.warn('Do not add transform on the label, otherwise it will be invalid.'); // eslint-disable-line no-console\n      }\n    }\n    style.transformSVG = transform;\n  }\n  return style;\n};\np.getAnimStartData = function (item) {\n  var _this3 = this;\n\n  var start = {};\n  Object.keys(item).forEach(function (_key) {\n    if (_key in _plugin || _this3.attr === 'attr' && (_key === 'd' || _key === 'points')) {\n      _this3.computedStyle = _this3.computedStyle || (!_this3.target.getAttribute ? _extends({}, _this3.target) : _this3.getComputedStyle());\n      start[_key] = item[_key].getAnimStart(_this3.computedStyle, _this3.tween, _this3.isSvg);\n      return;\n    }\n    if (_this3.attr === 'attr') {\n      // 除了d和这points外的标签动画；\n      var attribute = _this3.getValue(_key);\n      var s = _key.match(/opacity/ig) ? 1 : 0;\n      var data = attribute === 'null' || !attribute ? s : attribute;\n      if (_key.match(/color/i) || _key === 'stroke' || _key === 'fill') {\n        data = !data && _key === 'stroke' ? 'rgba(255, 255, 255, 0)' : data;\n        data = parseColor(data);\n        start[_key] = data;\n      } else if (parseFloat(data) || parseFloat(data) === 0 || data === 0) {\n        var unit = data.toString().replace(/[^a-z|%]/g, '');\n        start[_key] = unit !== item[_key].unit ? startConvertToEndUnit(_this3.target, _key, parseFloat(data), unit, item[_key].unit) : parseFloat(data);\n      }\n      return;\n    }\n    start[_key] = _this3.target[_key] || 0;\n  });\n  return start;\n};\np.setAnimData = function (data) {\n  var _this4 = this;\n\n  Object.keys(data).forEach(function (key) {\n    if (key in _plugin || _this4.attr === 'attr' && (key === 'd' || key === 'points')) {\n      return;\n    }\n    _this4.target[key] = data[key];\n  });\n};\np.setRatio = function (ratio, endData, i) {\n  var _this5 = this;\n\n  Object.keys(endData.vars).forEach(function (_key) {\n    if (_key in _plugin || _this5.attr === 'attr' && (_key === 'd' || _key === 'points')) {\n      endData.vars[_key].setRatio(ratio, _this5.tween, _this5.isSvg && _this5.computedStyle);\n      return;\n    }\n    var endVars = endData.vars[_key];\n    var startVars = _this5.start[i][_key];\n    var data = void 0;\n    if (_this5.attr === 'attr') {\n      // 除了d和这points外的标签动画；\n      if (!endVars.type) {\n        data = endVars.unit.charAt(1) === '=' ? startVars + endVars.vars * ratio + endVars.unit : (endVars.vars - startVars) * ratio + startVars + endVars.unit;\n        _this5.setValue(_key, endVars.unit ? data : parseFloat(data));\n      } else if (endVars.type === 'color') {\n        if (endVars.vars.length === 3 && startVars.length === 4) {\n          endVars.vars[3] = 1;\n        }\n        data = endVars.vars.map(function (_endData, _i) {\n          var startData = startVars[_i] || 0;\n          return (_endData - startData) * ratio + startData;\n        });\n        _this5.setValue(_key, getColor(data));\n      }\n    }\n  });\n  this.setAnimData(this.tween);\n};\np.getValue = function (key) {\n  return this.target.getAttribute ? this.target.getAttribute(key) : this.target[key];\n};\np.setValue = function (key, value) {\n  if (this.target.setAttribute) {\n    this.target.setAttribute(key, value);\n  } else {\n    this.target[key] = value;\n  }\n};\np.render = function () {\n  var _this6 = this;\n\n  var reverse = this.reverse;\n  this.defaultData.forEach(function (item, i) {\n    var initTime = item.initTime;\n    var duration = toFixed(item.duration);\n    // 处理 yoyo 和 repeat; yoyo 是在时间轴上的, 并不是倒放\n    var repeatNum = Math.ceil((_this6.progressTime - initTime) / (duration + item.repeatDelay)) - 1 || 0;\n    repeatNum = repeatNum < 0 ? 0 : repeatNum;\n    if (item.repeat) {\n      if (item.repeat < repeatNum && item.repeat !== -1) {\n        return;\n      }\n      if (item.repeat || item.repeat <= repeatNum) {\n        initTime += repeatNum * (duration + item.repeatDelay);\n      }\n    }\n    var startData = item.yoyo && repeatNum % 2 ? 1 : 0;\n    var endData = item.yoyo && repeatNum % 2 ? 0 : 1;\n    startData = item.type === 'from' ? 1 - startData : startData;\n    endData = item.type === 'from' ? 1 - endData : endData;\n    //  精度损失，只取小数点后10位。\n    var progressTime = toFixed(_this6.progressTime - initTime);\n\n    var ratio = void 0;\n\n    // 开始注册;\n    // from 时需先执行参数位置;\n    var fromDelay = item.type === 'from' ? item.delay : 0;\n    if (progressTime + fromDelay >= 0) {\n      if (!_this6.start[i]) {\n        // 设置 start\n        _this6.start[i] = _this6.getAnimStartData(item.vars);\n        if (progressTime < _this6.perFrame) {\n          ratio = !item.duration && !item.delay ? item.ease(1, startData, endData, 1) : item.ease(0, startData, endData, 1);\n          _this6.setRatio(ratio, item, i);\n        } else if (progressTime > duration) {\n          ratio = item.ease(1, startData, endData, 1);\n          _this6.setRatio(ratio, item, i);\n        }\n        if (!_this6.register || i && !initTime) {\n          _this6.register = true;\n          if (progressTime === 0 && item.duration && item.delay) {\n            return;\n          }\n        }\n      }\n    }\n\n    var e = {\n      index: i,\n      target: _this6.target\n    };\n    var cb = _extends({\n      moment: _this6.progressTime\n    }, e);\n    var maxPer = _this6.perFrame - _this6.accuracy;\n    var startTime = item.delay && reverse ? -maxPer : 0;\n    if ((progressTime >= startTime && !(progressTime > duration && item.mode === 'onComplete') || progressTime < startTime && item.mode && item.mode !== 'onStart') && _this6.start[i]) {\n      var updateAnim = _this6.updateAnim === 'update';\n      progressTime = progressTime < maxPer && !reverse && item.duration >= _this6.perFrame ? 0 : progressTime;\n      if ((progressTime >= duration - _this6.accuracy && !reverse || reverse && progressTime <= 0) && repeatNum >= item.repeat) {\n        if (item.mode === 'onComplete') {\n          return;\n        }\n        // onReveresComplete 和 onComplete 统一用 onComplete;\n        ratio = item.ease(reverse ? 0 : 1, startData, endData, 1);\n        _this6.setRatio(ratio, item, i, item.currentRepeat !== repeatNum);\n        if ((!item.reset || item.reset && progressTime >= duration) && !updateAnim) {\n          // duration 为 0 时的一个回调；\n          if (duration < maxPer) {\n            if (!duration) {\n              item.onStart(e);\n              cb.mode = 'onStart';\n              _this6.onChange(cb);\n            }\n            item.onUpdate(_extends({ ratio: ratio }, e));\n            cb.mode = 'onUpdate';\n            _this6.onChange(cb);\n          }\n          item.onComplete(e);\n        } else if (progressTime >= duration + maxPer) {\n          return;\n        }\n        item.mode = 'onComplete';\n      } else if (duration > maxPer) {\n        var currentProgress = progressTime < 0 ? 0 : progressTime;\n        currentProgress = currentProgress > duration ? duration : currentProgress;\n        ratio = item.ease(currentProgress, startData, endData, duration);\n        _this6.setRatio(ratio, item, i);\n        if (!updateAnim) {\n          if (item.repeat && repeatNum > 0 && item.currentRepeat !== repeatNum) {\n            item.mode = 'onRepeat';\n            item.currentRepeat = repeatNum;\n            item.onRepeat(_extends({}, e, { repeatNum: repeatNum }));\n          } else if ((item.perTime <= 0 || reverse && item.perTime >= _this6.reverseStartTime - initTime) && item.mode !== 'onStart') {\n            // onReveresStart 和 onStart 统一用 onStart;\n            item.mode = 'onStart';\n            item.onStart(e);\n          } else {\n            item.mode = 'onUpdate';\n            item.onUpdate(_extends({ ratio: ratio }, e));\n          }\n        }\n      }\n\n      if (!updateAnim) {\n        cb.mode = item.mode;\n        _this6.onChange(cb);\n      }\n      item.perTime = progressTime;\n      if (item.reset) {\n        delete item.reset;\n      }\n    }\n  });\n};\n// 播放帧\np.frame = function (moment) {\n  var _this7 = this;\n\n  this.progressTime = moment;\n  this.defaultData.forEach(function (item) {\n    var t = _this7.progressTime - item.duration - item.initTime;\n    if (t < _this7.perFrame && t > 0) {\n      _this7.progressTime = item.duration + item.initTime;\n    }\n  });\n  this.render();\n};\n\np.init = p.frame;\n\np.resetAnimData = function () {\n  this.tween = {};\n  this.start = {};\n};\n\nvar getDefaultStyle = function getDefaultStyle(domStyle, defaultStyle, tweenData) {\n  var $data = defaultData({}, 0);\n  var getStyleToArray = function getStyleToArray(styleString) {\n    return styleString.split(';').filter(function (c) {\n      return c;\n    }).map(function (str) {\n      return str.split(':').map(function (s) {\n        return s.trim();\n      });\n    });\n  };\n  var styleToArray = getStyleToArray(defaultStyle);\n  var domStyleToArray = getStyleToArray(domStyle);\n  tweenData.forEach(function (value) {\n    Object.keys(value).forEach(function (name) {\n      if (!(name in $data)) {\n        var $name = name === 'bezier' ? 'transform' : name;\n        var styleName = toCssLowerCase(isTransform(getGsapType($name)));\n        domStyleToArray = domStyleToArray.filter(function (item) {\n          // 去除 plugins 的特殊名称。\n          if (transformOrFilter[item[0]] && transformOrFilter[styleName]) {\n            return false;\n          }\n          return item[0] !== styleName;\n        });\n      }\n    });\n  });\n  styleToArray.forEach(function (item) {\n    domStyleToArray = domStyleToArray.filter(function ($item) {\n      if ($item[0] === item[0]) {\n        return false;\n      }\n      return true;\n    });\n  });\n  return styleToArray.concat(domStyleToArray).map(function (item) {\n    return item.join(':');\n  }).join(';');\n};\n\np.resetDefaultStyle = function () {\n  var _this8 = this;\n\n  this.tween = {};\n  this.defaultData = this.defaultData.map(function (item) {\n    item.reset = true;\n    delete item.mode;\n    return item;\n  });\n  var data = defaultData({}, 0);\n  Object.keys(this.startDefaultData).forEach(function (key) {\n    if (!(key in data)) {\n      if (key === 'style') {\n        var value = getDefaultStyle(_this8.target.style.cssText, _this8.startDefaultData.style, _this8.data);\n        _this8.setValue(key, value);\n      } else {\n        _this8.setValue(key, _this8.startDefaultData[key]);\n      }\n      _this8.computedStyle = null;\n    }\n  });\n};\n\np.reStart = function (style, preStyle, isTween) {\n  var _this9 = this;\n\n  this.start = {};\n  this.tween = {};\n  Object.keys(style || {}).forEach(function (key) {\n    if (isTween || !preStyle || style[key] !== preStyle[key]) {\n      _this9.target.style[key] = stylesToCss(key, style[key]);\n    }\n  });\n  this.setAttrIsStyle();\n  this.computedStyle = null;\n};\n\np.onChange = noop;\nexport default Tween;","/* eslint-disable func-names */\nimport requestAnimationFrame from 'raf';\n\nvar getTime = Date.now || function () {\n  return new Date().getTime();\n};\nvar sortObj = {\n  interval: 1,\n  timeout: 1,\n  TweenOneTicker: 2\n};\nvar tickObjToArray = function tickObjToArray(obj) {\n  return Object.keys(obj).map(function (k) {\n    return {\n      key: k,\n      func: obj[k]\n    };\n  }).sort(function (a, b) {\n    var aa = a.key.split('_')[0];\n    var bb = b.key.split('_')[0];\n    return sortObj[bb] - sortObj[aa];\n  });\n};\nvar Ticker = function Ticker() {};\nTicker.prototype = {\n  tickFnArray: [],\n  tickKeyObject: {},\n  id: -1,\n  tweenId: 0,\n  frame: 0,\n  perFrame: Math.round(1000 / 60),\n  elapsed: 0,\n  lastUpdate: getTime(),\n  startTime: getTime(), // 开始时间，不计算 react 渲染时间；\n  nextTime: 0,\n  time: 0\n};\nvar p = Ticker.prototype;\np.add = function (fn) {\n  var key = 'TweenOneTicker_' + this.tweenId;\n  this.tweenId++;\n  this.wake(key, fn);\n  return key;\n};\np.wake = function (key, fn) {\n  this.tickKeyObject[key] = fn;\n  this.tickFnArray = tickObjToArray(this.tickKeyObject);\n  if (this.id === -1) {\n    this.id = requestAnimationFrame(this.tick);\n  }\n};\np.clear = function (key) {\n  delete this.tickKeyObject[key];\n  this.tickFnArray = tickObjToArray(this.tickKeyObject);\n};\np.sleep = function () {\n  requestAnimationFrame.cancel(this.id);\n  this.id = -1;\n  this.frame = 0;\n};\nvar ticker = new Ticker();\np.tick = function (a) {\n  ticker.elapsed = getTime() - ticker.lastUpdate;\n  // 离开当前时设值 300；大于 300 则为离开。\n  if (ticker.elapsed > 300) {\n    ticker.startTime += ticker.elapsed - ticker.perFrame;\n  }\n  ticker.lastUpdate += ticker.elapsed;\n  ticker.time = ticker.lastUpdate - ticker.startTime;\n  var overlap = ticker.time - ticker.nextTime;\n  if (overlap > 0 || !ticker.frame) {\n    ticker.frame++;\n    ticker.nextTime += overlap;\n  }\n  // console.log(ticker.frame, ticker.nextTime, ticker.time)\n  ticker.tickFnArray.forEach(function (item) {\n    return item.func(a);\n  });\n  // 如果 object 里没对象了，自动杀掉；\n  if (!ticker.tickFnArray.length) {\n    ticker.sleep();\n    return;\n  }\n  ticker.id = requestAnimationFrame(ticker.tick);\n};\nvar timeoutIdNumber = 0;\np.timeout = function (fn, time) {\n  var _this = this;\n\n  if (!(typeof fn === 'function')) {\n    return console.warn('not function'); // eslint-disable-line\n  }\n  var timeoutID = 'timeout_' + Date.now() + '-' + timeoutIdNumber;\n  var startTime = this.time;\n  this.wake(timeoutID, function () {\n    var moment = _this.time - startTime;\n    if (moment >= (time || 0)) {\n      _this.clear(timeoutID);\n      fn();\n    }\n  });\n  timeoutIdNumber++;\n  return timeoutID;\n};\nvar intervalIdNumber = 0;\np.interval = function (fn, time) {\n  var _this2 = this;\n\n  if (!(typeof fn === 'function')) {\n    console.warn('not function'); // eslint-disable-line\n    return null;\n  }\n  var intervalID = 'interval_' + Date.now() + '-' + intervalIdNumber;\n  var starTime = this.time;\n  this.wake(intervalID, function () {\n    var moment = _this2.time - starTime;\n    if (moment >= (time || 0)) {\n      starTime = _this2.time;\n      fn();\n    }\n  });\n  intervalIdNumber++;\n  return intervalID;\n};\nexport default ticker;","import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDom from 'react-dom';\nimport { polyfill } from 'react-lifecycles-compat';\n\nimport { objectEqual } from './util';\nimport Tween from './Tween';\nimport ticker from './ticker';\n\nfunction noop() {}\n\nvar perFrame = Math.round(1000 / 60);\nvar objectOrArray = PropTypes.oneOfType([PropTypes.object, PropTypes.array]);\n\nvar TweenOne = function (_Component) {\n  _inherits(TweenOne, _Component);\n\n  _createClass(TweenOne, null, [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(props, _ref) {\n      var prevProps = _ref.prevProps,\n          $self = _ref.$self;\n\n      var nextState = {\n        prevProps: props\n      };\n      if (prevProps && props !== prevProps) {\n        if (!$self.tween && !$self.dom) {\n          $self.updateAnim = true;\n          return nextState;\n        }\n\n        // 动画处理\n        var newAnimation = props.animation;\n        var currentAnimation = prevProps.animation;\n        var equal = objectEqual(currentAnimation, newAnimation);\n        if (!equal) {\n          if (props.resetStyle && $self.tween) {\n            $self.tween.resetDefaultStyle();\n          }\n          $self.updateAnim = true;\n        }\n\n        // 跳帧事件 moment;\n        var nextMoment = props.moment;\n        if (typeof nextMoment === 'number' && nextMoment !== prevProps.moment) {\n          if ($self.tween && !$self.updateAnim) {\n            $self.startMoment = nextMoment;\n            $self.startTime = ticker.time;\n            if (props.paused) {\n              $self.raf();\n            }\n            if ($self.tween.progressTime >= $self.tween.totalTime) {\n              $self.play();\n            }\n          } else {\n            $self.updateAnim = true;\n          }\n        }\n\n        // 暂停倒放\n        if ($self.paused !== props.paused || $self.reverse !== props.reverse) {\n          $self.paused = props.paused;\n          $self.reverse = props.reverse;\n          if ($self.paused) {\n            $self.cancelRequestAnimationFrame();\n          } else if ($self.reverse && props.reverseDelay) {\n            $self.cancelRequestAnimationFrame();\n            ticker.timeout($self.restart, props.reverseDelay);\n          } else {\n            // 在 form 状态下，暂停时拉 moment 时，start 有值恢复播放，在 delay 的时间没有处理。。\n            if ($self.tween) {\n              $self.tween.resetAnimData();\n              $self.tween.resetDefaultStyle();\n            }\n            if (!$self.updateAnim) {\n              $self.restart();\n            }\n          }\n        }\n\n        var styleEqual = objectEqual(prevProps.style, props.style);\n        if (!styleEqual) {\n          // 在动画时更改了 style, 作为更改开始数值。\n          if ($self.tween) {\n            $self.tween.reStart(props.style, prevProps.style, $self.tween.progressTime < $self.tween.totalTime);\n            if ($self.paused) {\n              $self.raf();\n            }\n          }\n        }\n        $self.setForcedJudg(props);\n      }\n      return nextState; // eslint-disable-line\n    }\n  }]);\n\n  function TweenOne(props) {\n    _classCallCheck(this, TweenOne);\n\n    var _this = _possibleConstructorReturn(this, (TweenOne.__proto__ || Object.getPrototypeOf(TweenOne)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.rafID = -1;\n    _this.paused = props.paused;\n    _this.reverse = props.reverse;\n    _this.updateAnim = false;\n    _this.repeatNum = 0;\n    // 定义 ref 给外部使用；\n    _this.currentRef = null;\n    _this.forced = {};\n    _this.setForcedJudg(props);\n    _this.state = {\n      $self: _this\n    };\n    return _this;\n  }\n\n  _createClass(TweenOne, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.dom = ReactDom.findDOMNode(this);\n      if (this.dom && this.dom.nodeName !== '#text') {\n        this.start();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (!this.dom) {\n        this.dom = ReactDom.findDOMNode(this);\n      }\n      // 样式更新了后再执行动画；\n      if (this.updateAnim && this.dom && this.dom.nodeName !== '#text') {\n        if (this.tween) {\n          this.cancelRequestAnimationFrame();\n        }\n        this.start();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.cancelRequestAnimationFrame();\n    }\n\n    /**\n     * @method setForcedJudg\n     * @param props\n     * QueueAnim 套在组件下面后导至子级变化。\n     * <QueueAnim component={Menu} >\n     *   <SubMenu key=\"a\" title=\"导航\">\n     *     <Item />\n     *   </SubMenu>\n     * </QueueAnim>\n     * rc-Menu 里是以 isXXX 来判断是 rc-Menu 的子级;\n     * 如: 用 isSubMenu 来处理 hover 事件\n     * 地址: https://github.com/react-component/menu/blob/master/src/MenuMixin.js#L172\n     * 暂时方案: 在组件里添加判断用的值。\n     */\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          animation = _props.animation,\n          component = _props.component,\n          componentProps = _props.componentProps,\n          reverseDelay = _props.reverseDelay,\n          attr = _props.attr,\n          paused = _props.paused,\n          reverse = _props.reverse,\n          repeat = _props.repeat,\n          yoyo = _props.yoyo,\n          moment = _props.moment,\n          resetStyle = _props.resetStyle,\n          forcedJudg = _props.forcedJudg,\n          props = _objectWithoutProperties(_props, ['animation', 'component', 'componentProps', 'reverseDelay', 'attr', 'paused', 'reverse', 'repeat', 'yoyo', 'moment', 'resetStyle', 'forcedJudg']);\n\n      Object.keys(props.style || {}).forEach(function (p) {\n        if (p.match(/filter/i)) {\n          ['Webkit', 'Moz', 'Ms', 'ms'].forEach(function (prefix) {\n            props.style[prefix + 'Filter'] = props.style[p];\n          });\n        }\n      });\n      var refFunc = function refFunc(c) {\n        _this2.currentRef = c;\n      };\n      // component 为空时调用子级的。。\n      var className = props.className,\n          children = props.children;\n\n      if (!component && typeof children !== 'string') {\n        if (!children) {\n          return children;\n        }\n        var childrenProps = children.props;\n\n        var _ref2 = childrenProps || {},\n            childStyle = _ref2.style,\n            childClass = _ref2.className;\n        // 合并 style 与 className。\n\n\n        var newStyle = _extends({}, childStyle, props.style);\n        var newClassName = className ? className + ' ' + childClass : childClass;\n        return React.cloneElement(children, { style: newStyle, ref: refFunc, className: newClassName });\n      }\n      return React.createElement(component, _extends({\n        ref: refFunc\n      }, props, componentProps));\n    }\n  }]);\n\n  return TweenOne;\n}(Component);\n\nTweenOne.propTypes = {\n  component: PropTypes.any,\n  componentProps: PropTypes.any,\n  animation: objectOrArray,\n  children: PropTypes.any,\n  style: PropTypes.object,\n  paused: PropTypes.bool,\n  reverse: PropTypes.bool,\n  reverseDelay: PropTypes.number,\n  yoyo: PropTypes.bool,\n  repeat: PropTypes.number,\n  moment: PropTypes.number,\n  attr: PropTypes.string,\n  onChange: PropTypes.func,\n  resetStyle: PropTypes.bool,\n  forcedJudg: PropTypes.object\n};\nTweenOne.defaultProps = {\n  component: 'div',\n  componentProps: {},\n  reverseDelay: 0,\n  repeat: 0,\n  attr: 'style',\n  onChange: noop\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.setForcedJudg = function (props) {\n    Object.keys(_this3.forced).forEach(function (key) {\n      delete _this3[key];\n      delete _this3.forced[key];\n    });\n    if (props.forcedJudg) {\n      Object.keys(props.forcedJudg).forEach(function (key) {\n        if (!_this3[key]) {\n          _this3[key] = props.forcedJudg[key];\n          _this3.forced[key] = 1;\n        }\n      });\n    }\n  };\n\n  this.setDefault = function (props) {\n    _this3.moment = props.moment || 0;\n    _this3.startMoment = props.moment || 0;\n    _this3.startTime = ticker.time;\n  };\n\n  this.restart = function () {\n    if (!_this3.tween) {\n      return;\n    }\n    _this3.startMoment = _this3.moment;\n    _this3.startTime = ticker.time;\n    _this3.tween.reverse = _this3.reverse;\n    _this3.tween.reverseStartTime = _this3.startMoment;\n    _this3.raf();\n    _this3.play();\n  };\n\n  this.start = function () {\n    _this3.updateAnim = false;\n    var props = _this3.props;\n    if (props.animation && Object.keys(props.animation).length) {\n      _this3.setDefault(props);\n      _this3.tween = new Tween(_this3.dom, props.animation, props.attr);\n      _this3.tween.reverse = _this3.reverse;\n      // 预先注册 raf, 初始动画数值。\n      _this3.raf();\n      // 开始动画\n      _this3.play();\n    } else {\n      _this3.tween = null;\n    }\n  };\n\n  this.play = function () {\n    _this3.cancelRequestAnimationFrame();\n    if (_this3.paused) {\n      return;\n    }\n    _this3.rafID = ticker.add(_this3.raf);\n  };\n\n  this.frame = function () {\n    var yoyo = _this3.props.yoyo;\n    var repeat = _this3.props.repeat;\n\n    var totalTime = repeat === -1 ? Number.MAX_VALUE : _this3.tween.totalTime * (repeat + 1);\n    repeat = repeat >= 0 ? repeat : Number.MAX_VALUE;\n    var moment = ticker.time - _this3.startTime + _this3.startMoment;\n    if (_this3.reverse) {\n      moment = (_this3.startMoment || 0) - (ticker.time - _this3.startTime);\n    }\n    moment = moment > totalTime ? totalTime : moment;\n    moment = moment <= 0 ? 0 : moment;\n    var repeatNum = Math.floor(moment / _this3.tween.totalTime) || 0;\n    repeatNum = repeatNum > repeat ? repeat : repeatNum;\n    var tweenMoment = moment - _this3.tween.totalTime * repeatNum;\n    tweenMoment = tweenMoment < perFrame && !_this3.reverse && totalTime >= perFrame ? 0 : tweenMoment;\n    if (repeat && moment && moment - _this3.tween.totalTime * repeatNum < perFrame) {\n      // 在重置样式之前补 complete；\n      _this3.tween.frame(_this3.tween.totalTime * repeatNum);\n    }\n    if (moment < _this3.moment && !_this3.reverse || repeat !== 0 && repeatNum && repeatNum !== _this3.repeatNum) {\n      // 在 form 状态下，暂停时拉 moment 时，start 有值，，往返方向播放时，在 delay 的时间没有处理。。\n      // 与上面的处理一样，删除 start ，重新走一遍 start。。\n      _this3.tween.resetAnimData();\n      _this3.tween.resetDefaultStyle();\n    }\n    var yoyoReverse = yoyo && repeatNum % 2;\n    if (yoyoReverse) {\n      tweenMoment = _this3.tween.totalTime - tweenMoment;\n    }\n    _this3.tween.onChange = function (e) {\n      var cb = _extends({}, e, {\n        timelineMode: ''\n      });\n\n      if (_this3.moment === _this3.startMoment && !_this3.reverse && !e.index && e.mode === 'onStart' || _this3.reverse) {\n        cb.timelineMode = 'onTimelineStart';\n      } else if (moment >= totalTime && !_this3.reverse || !moment && _this3.reverse) {\n        cb.timelineMode = 'onTimelineComplete';\n      } else if (repeatNum !== _this3.timelineRepeatNum) {\n        cb.timelineMode = 'onTimelineRepeat';\n      } else {\n        cb.timelineMode = 'onTimelineUpdate';\n      }\n      _this3.timelineRepeatNum = repeatNum;\n      _this3.props.onChange(cb);\n    };\n    _this3.moment = moment;\n    _this3.repeatNum = repeatNum;\n    _this3.tween.frame(tweenMoment);\n  };\n\n  this.raf = function () {\n    var tween = _this3.tween;\n    _this3.frame();\n    if (tween !== _this3.tween) {\n      // 在 onComplete 时更换动画时，raf 没结束，所以需要强制退出，避逸两个时间的冲突。\n      return null;\n    }\n    var repeat = _this3.props.repeat;\n\n    var totalTime = repeat === -1 ? Number.MAX_VALUE : _this3.tween.totalTime * (repeat + 1);\n    if (_this3.moment >= totalTime && !_this3.reverse || _this3.paused || _this3.reverse && _this3.moment === 0) {\n      return _this3.cancelRequestAnimationFrame();\n    }\n    return null;\n  };\n\n  this.cancelRequestAnimationFrame = function () {\n    ticker.clear(_this3.rafID);\n    _this3.rafID = -1;\n  };\n};\n\nTweenOne.isTweenOne = true;\nexport default polyfill(TweenOne);","import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component, createElement } from 'react';\nimport PropTypes from 'prop-types';\nimport { polyfill } from 'react-lifecycles-compat';\n\nimport TweenOne from './TweenOne';\nimport { dataToArray, toArrayChildren, getChildrenFromProps, mergeChildren, transformArguments, findChildInChildrenByKey } from './util';\n\nfunction noop() {}\n\nvar TweenOneGroup = function (_Component) {\n  _inherits(TweenOneGroup, _Component);\n\n  _createClass(TweenOneGroup, null, [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(props, _ref) {\n      var prevProps = _ref.prevProps,\n          $self = _ref.$self;\n\n      var nextState = {\n        prevProps: props\n      };\n      if (prevProps && props !== prevProps) {\n        var nextChildren = toArrayChildren(props.children);\n        if (Object.keys($self.isTween).length && !props.exclusive) {\n          $self.animQueue.push(nextChildren);\n          return nextState;\n        }\n        var currentChildren = toArrayChildren($self.currentChildren);\n        nextState.children = $self.changeChildren(nextChildren, currentChildren);\n      }\n      return nextState; // eslint-disable-line\n    }\n  }]);\n\n  function TweenOneGroup(props) {\n    _classCallCheck(this, TweenOneGroup);\n\n    var _this = _possibleConstructorReturn(this, (TweenOneGroup.__proto__ || Object.getPrototypeOf(TweenOneGroup)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.keysToEnter = [];\n    _this.keysToLeave = [];\n    _this.saveTweenTag = {};\n    _this.onEnterBool = false;\n    _this.animQueue = [];\n    _this.isTween = {};\n    // 第一进入，appear 为 true 时默认用 enter 或 tween-one 上的效果\n    var children = toArrayChildren(getChildrenFromProps(_this.props));\n    _this.currentChildren = toArrayChildren(getChildrenFromProps(_this.props));\n    _this.state = {\n      children: children,\n      $self: _this\n    };\n    return _this;\n  }\n\n  _createClass(TweenOneGroup, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.onEnterBool = true;\n    }\n  }, {\n    key: 'changeChildren',\n    value: function changeChildren(nextChildren, currentChildren) {\n      var _this2 = this;\n\n      var newChildren = mergeChildren(currentChildren, nextChildren);\n      this.keysToEnter = [];\n      this.keysToLeave = [];\n      nextChildren.forEach(function (c) {\n        if (!c) {\n          return;\n        }\n        var key = c.key;\n        var hasPrev = findChildInChildrenByKey(currentChildren, key);\n        // 如果当前 key 已存在 saveTweenTag 里，，刷新 child;\n        if (_this2.saveTweenTag[key]) {\n          _this2.saveTweenTag[key] = React.cloneElement(_this2.saveTweenTag[key], {}, c);\n        }\n        if (!hasPrev && key) {\n          _this2.keysToEnter.push(key);\n        }\n      });\n\n      currentChildren.forEach(function (c) {\n        if (!c) {\n          return;\n        }\n        var key = c.key;\n        var hasNext = findChildInChildrenByKey(nextChildren, key);\n        if (!hasNext && key) {\n          _this2.keysToLeave.push(key);\n          delete _this2.saveTweenTag[key];\n        }\n      });\n      return newChildren;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var children = this.state.children;\n      // fix in strict mode https://github.com/ant-design/ant-motion/issues/323;\n\n      this.currentChildren = children;\n      var childrenToRender = this.getChildrenToRender(children);\n\n      var _props = this.props,\n          component = _props.component,\n          componentProps = _props.componentProps,\n          appear = _props.appear,\n          enter = _props.enter,\n          leave = _props.leave,\n          animatingClassName = _props.animatingClassName,\n          onEnd = _props.onEnd,\n          exclusive = _props.exclusive,\n          resetStyle = _props.resetStyle,\n          props = _objectWithoutProperties(_props, ['component', 'componentProps', 'appear', 'enter', 'leave', 'animatingClassName', 'onEnd', 'exclusive', 'resetStyle']);\n\n      if (!component) {\n        return childrenToRender[0] || null;\n      }\n      return createElement(component, _extends({}, props, componentProps), childrenToRender);\n    }\n  }]);\n\n  return TweenOneGroup;\n}(Component);\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.onChange = function (animation, key, type, obj) {\n    var length = dataToArray(animation).length;\n    var tag = obj.target;\n    var classIsSvg = typeof tag.className === 'object' && 'baseVal' in tag.className;\n    var isEnter = type === 'enter' || type === 'appear';\n    if (obj.mode === 'onStart') {\n      if (classIsSvg) {\n        tag.className.baseVal = _this3.setClassName(tag.className.baseVal, isEnter);\n      } else {\n        tag.className = _this3.setClassName(tag.className, isEnter);\n      }\n    } else if (obj.index === length - 1 && obj.mode === 'onComplete') {\n      delete _this3.isTween[key];\n      if (classIsSvg) {\n        tag.className.baseVal = tag.className.baseVal.replace(_this3.props.animatingClassName[isEnter ? 0 : 1], '').trim();\n      } else {\n        tag.className = tag.className.replace(_this3.props.animatingClassName[isEnter ? 0 : 1], '').trim();\n      }\n      if (type === 'enter') {\n        _this3.keysToEnter.splice(_this3.keysToEnter.indexOf(key), 1);\n        if (!_this3.keysToEnter.length) {\n          _this3.reAnimQueue();\n        }\n      } else if (type === 'leave') {\n        _this3.keysToLeave.splice(_this3.keysToLeave.indexOf(key), 1);\n        _this3.currentChildren = _this3.currentChildren.filter(function (child) {\n          return key !== child.key;\n        });\n        if (!_this3.keysToLeave.length) {\n          var currentChildrenKeys = _this3.currentChildren.map(function (item) {\n            return item.key;\n          });\n          Object.keys(_this3.saveTweenTag).forEach(function ($key) {\n            if (currentChildrenKeys.indexOf($key) === -1) {\n              delete _this3.saveTweenTag[$key];\n            }\n          });\n          _this3.setState({\n            children: _this3.currentChildren\n          }, _this3.reAnimQueue);\n        }\n      }\n      var _obj = { key: key, type: type };\n      _this3.props.onEnd(_obj);\n    }\n  };\n\n  this.setClassName = function (name, isEnter) {\n    var className = name.replace(_this3.props.animatingClassName[isEnter ? 1 : 0], '').trim();\n    if (className.indexOf(_this3.props.animatingClassName[isEnter ? 0 : 1]) === -1) {\n      className = (className + ' ' + _this3.props.animatingClassName[isEnter ? 0 : 1]).trim();\n    }\n    return className;\n  };\n\n  this.getTweenChild = function (child) {\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var key = child.key;\n    _this3.saveTweenTag[key] = React.createElement(TweenOne, _extends({}, props, {\n      key: key,\n      component: null\n    }), child);\n    return _this3.saveTweenTag[key];\n  };\n\n  this.getCoverAnimation = function (child, i, type) {\n    var animation = void 0;\n    animation = type === 'leave' ? _this3.props.leave : _this3.props.enter;\n    if (type === 'appear') {\n      var appear = transformArguments(_this3.props.appear, child.key, i);\n      animation = appear && _this3.props.enter || null;\n    }\n    var animate = transformArguments(animation, child.key, i);\n    var onChange = _this3.onChange.bind(_this3, animate, child.key, type);\n    var props = {\n      key: child.key,\n      animation: animate,\n      onChange: onChange,\n      resetStyle: _this3.props.resetStyle\n    };\n    if (_this3.keysToEnter.concat(_this3.keysToLeave).indexOf(child.key) >= 0 || !_this3.onEnterBool && animation) {\n      if (!_this3.saveTweenTag[child.key]) {\n        _this3.isTween[child.key] = type;\n      }\n    }\n    var children = _this3.getTweenChild(child, props);\n    return children;\n  };\n\n  this.getChildrenToRender = function (children) {\n    return children.map(function (child, i) {\n      if (!child || !child.key) {\n        return child;\n      }\n      var key = child.key;\n      if (_this3.keysToLeave.indexOf(key) >= 0) {\n        return _this3.getCoverAnimation(child, i, 'leave');\n      } else if ((_this3.keysToEnter.indexOf(key) >= 0 || _this3.isTween[key] && _this3.keysToLeave.indexOf(key) === -1) && !(_this3.isTween[key] === 'enter' && _this3.saveTweenTag[key])) {\n        /**\n         * 1. 在 key 在 enter 里。\n         * 2. 出场未结束，触发进场, this.isTween[key] 为 leave, key 在 enter 里。\n         * 3. 状态为 enter 且 tweenTag 里有值时，不执行重载动画属性，直接调用 tweenTag 里的。\n         */\n        return _this3.getCoverAnimation(child, i, 'enter');\n      } else if (!_this3.onEnterBool) {\n        return _this3.getCoverAnimation(child, i, 'appear');\n      }\n      return _this3.saveTweenTag[key];\n    });\n  };\n\n  this.reAnimQueue = function () {\n    if (!Object.keys(_this3.isTween).length && _this3.animQueue.length) {\n      var children = _this3.changeChildren(_this3.animQueue[_this3.animQueue.length - 1], _this3.state.children);\n      _this3.setState({\n        children: children\n      });\n      _this3.animQueue = [];\n    }\n  };\n};\n\nTweenOneGroup.propTypes = {\n  component: PropTypes.any,\n  componentProps: PropTypes.object,\n  children: PropTypes.any,\n  style: PropTypes.object,\n  appear: PropTypes.bool,\n  enter: PropTypes.any,\n  leave: PropTypes.any,\n  animatingClassName: PropTypes.array,\n  onEnd: PropTypes.func,\n  resetStyle: PropTypes.bool,\n  exclusive: PropTypes.bool\n};\n\nTweenOneGroup.defaultProps = {\n  component: 'div',\n  componentProps: {},\n  appear: true,\n  animatingClassName: ['tween-one-entering', 'tween-one-leaving'],\n  enter: { x: 50, opacity: 0, type: 'from' },\n  leave: { x: -50, opacity: 0 },\n  onEnd: noop,\n  resetStyle: true,\n  exclusive: false\n};\nTweenOneGroup.isTweenOneGroup = true;\nexport default polyfill(TweenOneGroup);","// export this package's api\nimport TweenOne from './TweenOne';\nimport _tween from './Tween';\nimport group from './TweenOneGroup';\nimport _easing from './easing';\nimport _plugins from './plugins';\nimport _ticker from './ticker';\n\nTweenOne.TweenOneGroup = group;\nTweenOne.easing = _easing;\nTweenOne.plugins = _plugins;\nTweenOne.ticker = _ticker;\nTweenOne.Tween = _tween;\n\nexport default TweenOne;\n\nexport var TweenOneGroup = group;\n\nexport var easing = _easing;\n\nexport var plugins = _plugins;\n\nexport var ticker = _ticker;\n\nexport var Tween = _tween;","import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nvar Arrow = function (_Component) {\n  _inherits(Arrow, _Component);\n\n  function Arrow() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Arrow);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Arrow.__proto__ || Object.getPrototypeOf(Arrow)).call.apply(_ref, [this].concat(args))), _this), _this.onClick = function (e) {\n      if (e.stopPropagation) {\n        e.stopPropagation();\n      }\n      _this.props[_this.props.arrowType](e);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Arrow, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          arrowType = _props.arrowType,\n          next = _props.next,\n          prev = _props.prev,\n          component = _props.component,\n          componentProps = _props.componentProps,\n          defaultBool = _props.defaultBool,\n          prefixCls = _props.prefixCls,\n          children = _props.children,\n          props = _objectWithoutProperties(_props, ['arrowType', 'next', 'prev', 'component', 'componentProps', 'defaultBool', 'prefixCls', 'children']);\n\n      var className = this.props.className;\n\n      var defaultClass = className + '-default';\n      className = (className + ' ' + (prefixCls || '')).trim();\n      className = !defaultBool ? className : (className + ' ' + defaultClass).trim();\n      className = className + ' ' + arrowType;\n      var $props = _extends({}, props, componentProps, {\n        className: className,\n        onClick: this.onClick\n      });\n      return React.createElement(component, $props, children);\n    }\n  }]);\n\n  return Arrow;\n}(Component);\n\nArrow.propTypes = {\n  children: PropTypes.any,\n  style: PropTypes.object,\n  className: PropTypes.string,\n  prefixCls: PropTypes.string,\n  component: PropTypes.any,\n  arrowType: PropTypes.string,\n  defaultBool: PropTypes.bool,\n  next: PropTypes.func,\n  prev: PropTypes.func,\n  componentProps: PropTypes.object\n};\nArrow.defaultProps = {\n  component: 'div',\n  className: 'banner-anim-arrow',\n  componentProps: {}\n};\n\nArrow.isBannerAnimArrow = true;\n\nexport default Arrow;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport function toArrayChildren(children) {\n  var ret = [];\n  React.Children.forEach(children, function (c) {\n    ret.push(c);\n  });\n  return ret;\n}\n\nexport function dataToArray(vars) {\n  if (!vars && vars !== 0) {\n    return [];\n  }\n  if (Array.isArray(vars)) {\n    return vars;\n  }\n  return [vars];\n}\n\nexport function setAnimCompToTagComp(item, i) {\n  if (!item) {\n    return null;\n  }\n  var itemProps = item.props;\n  if (!itemProps.component) {\n    return item;\n  }\n  var props = {};\n  props.key = item.key || i;\n  // dom global attributes\n  var domAttrArray = ['accesskey', 'classname', 'contenteditable', 'contextmenu', 'dir', 'draggable', 'dropzone', 'hidden', 'id', 'lang', 'spellcheck', 'style', 'tabindex', 'title'];\n  Object.keys(itemProps).forEach(function (key) {\n    if (domAttrArray.indexOf(key.toLocaleLowerCase()) >= 0 || key.match('data-')) {\n      props[key] = itemProps[key];\n    }\n  });\n  return React.createElement(itemProps.component, props, itemProps.children);\n}\nsetAnimCompToTagComp.propTypes = {\n  key: PropTypes.string\n};\n\nexport function currentScrollTop() {\n  return window.pageYOffset || document.body.scrollTop || document.documentElement.scrollTop;\n}\n\nexport function currentScrollLeft() {\n  return window.pageXOffset || document.body.scrollLeft || document.documentElement.scrollLeft;\n}\n\nexport function windowHeight() {\n  return window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;\n}\n\nexport function switchChildren(hideProps, item) {\n  if (!hideProps) {\n    return item;\n  }\n  if (item.type.isTweenOne) {\n    return React.cloneElement(item, { reverse: true });\n  }\n  return React.cloneElement(item, item.props, null);\n}","import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { toArrayChildren } from './utils';\n\nvar Thumb = function (_Component) {\n  _inherits(Thumb, _Component);\n\n  function Thumb() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Thumb);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Thumb.__proto__ || Object.getPrototypeOf(Thumb)).call.apply(_ref, [this].concat(args))), _this), _this.getDefaultThumb = function () {\n      var children = [];\n      for (var i = 0; i < _this.props.length; i++) {\n        children.push(React.createElement('span', { key: i }));\n      }\n      return children;\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Thumb, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          length = _props.length,\n          thumbClick = _props.thumbClick,\n          active = _props.active,\n          defaultBool = _props.defaultBool,\n          component = _props.component,\n          componentProps = _props.componentProps,\n          prefixCls = _props.prefixCls,\n          propsChildren = _props.children,\n          props = _objectWithoutProperties(_props, ['length', 'thumbClick', 'active', 'defaultBool', 'component', 'componentProps', 'prefixCls', 'children']);\n\n      var className = 'banner-anim-thumb';\n      var defaultClass = className + '-default';\n      className = (className + ' ' + (prefixCls || '')).trim();\n      className = !defaultBool ? className : (className + ' ' + defaultClass).trim();\n      var children = defaultBool ? this.getDefaultThumb() : propsChildren;\n      if (length && toArrayChildren(children).length !== length) {\n        console.warn('The thumbnail length and the images length different.'); // eslint-disable-line\n      }\n      var childToRender = toArrayChildren(children).map(function (item, i) {\n        var itemProps = _extends({}, item.props);\n        itemProps.onClick = function (e) {\n          if (e.stopPropagation) {\n            e.stopPropagation();\n          }\n          thumbClick(i);\n        };\n        itemProps.className = ((itemProps.className || '') + ' ' + (active === i ? 'active' : '')).trim();\n        return React.cloneElement(item, itemProps);\n      });\n      var $props = _extends({}, props, componentProps, { className: className });\n\n      return React.createElement(component, $props, childToRender);\n    }\n  }]);\n\n  return Thumb;\n}(Component);\n\nThumb.propTypes = {\n  children: PropTypes.any,\n  style: PropTypes.object,\n  prefixCls: PropTypes.string,\n  component: PropTypes.any,\n  thumbClick: PropTypes.func,\n  defaultBool: PropTypes.bool,\n  length: PropTypes.number,\n  active: PropTypes.number,\n  componentProps: PropTypes.object\n};\nThumb.defaultProps = {\n  component: 'div',\n  componentProps: {},\n  thumbClick: function thumbClick() {}\n};\nThumb.isBannerAnimThumb = true;\n\nexport default Thumb;","import _extends from 'babel-runtime/helpers/extends';\nimport React, { cloneElement } from 'react';\nimport { toArrayChildren, switchChildren } from './utils';\n\nexport default {\n  across: function across(elem, type, direction, animData, elemOffset, leaveChildHide) {\n    var _x = void 0;\n    var props = _extends({}, elem.props);\n    var children = props.children;\n    if (type === 'enter') {\n      _x = direction === 'next' ? '100%' : '-100%';\n    } else {\n      // 时间轴不同，导致中间有空隙， 等修复 twee-one,先加delay\n      _x = direction === 'next' ? '-100%' : '100%';\n      children = toArrayChildren(children).map(switchChildren.bind(this, leaveChildHide));\n    }\n    return cloneElement(elem, {\n      animation: _extends({}, animData, {\n        x: _x,\n        type: type === 'enter' ? 'from' : 'to'\n      })\n    }, children);\n  },\n  vertical: function vertical(elem, type, direction, animData, elemOffset, leaveChildHide) {\n    var _y = void 0;\n    var props = _extends({}, elem.props);\n    var children = props.children;\n    if (type === 'enter') {\n      _y = direction === 'next' ? '-100%' : '100%';\n    } else {\n      // 时间轴不同，导致中间有空隙， 等修复 twee-one,先加delay\n      _y = direction === 'next' ? '100%' : '-100%';\n      children = toArrayChildren(children).map(switchChildren.bind(this, leaveChildHide));\n    }\n    return cloneElement(elem, _extends({}, props, {\n      animation: _extends({}, animData, {\n        y: _y,\n        type: type === 'enter' ? 'from' : 'to'\n      })\n    }), children);\n  },\n  acrossOverlay: function acrossOverlay(elem, type, direction, animData, elemOffset, leaveChildHide) {\n    var _x = void 0;\n    var props = _extends({}, elem.props);\n    var children = props.children;\n    if (type === 'enter') {\n      _x = direction === 'next' ? '100%' : '-100%';\n    } else {\n      _x = direction === 'next' ? '-20%' : '20%';\n      children = toArrayChildren(children).map(switchChildren.bind(this, leaveChildHide));\n    }\n    return cloneElement(elem, _extends({}, props, {\n      animation: _extends({}, animData, {\n        x: _x,\n        type: type === 'enter' ? 'from' : 'to'\n      })\n    }), children);\n  },\n  verticalOverlay: function verticalOverlay(elem, type, direction, animData, elemOffset, leaveChildHide) {\n    var _y = void 0;\n    var props = _extends({}, elem.props);\n    var children = props.children;\n    if (type === 'enter') {\n      _y = direction === 'next' ? '-100%' : '100%';\n    } else {\n      _y = direction === 'next' ? '20%' : '-20%';\n      children = toArrayChildren(children).map(switchChildren.bind(this, leaveChildHide));\n    }\n    return cloneElement(elem, _extends({}, props, {\n      animation: _extends({}, animData, {\n        y: _y,\n        type: type === 'enter' ? 'from' : 'to'\n      })\n    }), children);\n  },\n  gridBar: function gridBar(elem, type, direction, animData, elemOffset, leaveChildHide, ratio, paused) {\n    var props = _extends({}, elem.props);\n    var animChild = [];\n    var gridNum = 10;\n    var girdSize = 100 / gridNum;\n\n    var _y = void 0;\n    var children = props.children;\n    if (type === 'enter') {\n      _y = direction === 'next' ? '-100%' : '100%';\n    } else {\n      _y = direction === 'next' ? '100%' : '-100%';\n    }\n    var moment = ratio * (animData.duration + animData.delay + gridNum * 50 - (type === 'enter' ? 50 : 0)) || 0;\n    for (var i = 0; i < gridNum; i++) {\n      var style = _extends({}, props.style);\n      style.width = girdSize + 0.1 + '%';\n      style.left = i * girdSize + '%';\n      style.position = 'absolute';\n      style.overflow = 'hidden';\n      var _style = _extends({}, props.style);\n      _style.width = elemOffset.width + 'px';\n      _style.height = elemOffset.height + 'px';\n      _style.float = 'left';\n      _style.position = 'relative';\n      _style.left = -i * girdSize / 100 * elemOffset.width + 'px';\n      _style.overflow = 'hidden';\n      var animProps = _extends({}, props);\n      animProps.style = _style;\n      var delay = (direction === 'next' ? i : gridNum - i) * 50 + (type === 'enter' ? 0 : 50) + (animData.delay || 0);\n      animProps.animation = _extends({}, animData, {\n        y: _y,\n        type: type === 'enter' ? 'from' : 'to',\n        key: type,\n        direction: direction,\n        delay: delay,\n        i: i,\n        onComplete: i === (direction === 'next' ? gridNum - 1 : 0) ? animData.onComplete : null\n      });\n      animProps.paused = paused;\n      animProps.moment = moment;\n      var mask = React.createElement(\n        'div',\n        { style: style, key: i },\n        cloneElement(elem, animProps, children)\n      );\n      animChild.push(mask);\n    }\n    var animSlot = React.createElement(\n      'div',\n      { style: { width: '100%', position: 'absolute', top: 0 } },\n      animChild\n    );\n    var _props = _extends({}, elem.props);\n    _props.children = animSlot;\n    return cloneElement(elem, _extends({}, _props, { animation: { x: 0, y: 0, type: 'set' } }));\n  },\n  grid: function grid(elem, type, direction, animData, elemOffset, leaveChildHide, ratio, paused) {\n    var props = _extends({}, elem.props);\n    var animChild = [];\n    var gridNum = 10;\n    var gridWidth = elemOffset.width / gridNum;\n    var gridNumH = Math.ceil(elemOffset.height / gridWidth);\n    var _delay = (gridNum - 1) * 50 + (gridNumH - 1) * 50;\n    if (type === 'leave') {\n      props.animation = _extends({}, animData, {\n        duration: _delay + animData.duration\n      });\n      props.moment = ((animData.delay || 0) + _delay + animData.duration) * ratio || 0;\n      props.paused = paused;\n      return React.cloneElement(elem, props);\n    }\n    var moment = ratio * (animData.duration + animData.delay + _delay) || 0;\n    for (var i = 0; i < gridNum * gridNumH; i++) {\n      // mask样式\n      var style = _extends({}, props.style);\n      style.position = 'absolute';\n      style.overflow = 'hidden';\n      style.width = gridWidth + 1 + 'px';\n      style.height = gridWidth + 1 + 'px';\n      style.left = i % gridNum * gridWidth;\n      style.top = Math.floor(i / gridNum) * gridWidth;\n      style.opacity = 0;\n      // clone 的样式\n      var _style = _extends({}, props.style);\n      _style.width = elemOffset.width + 'px';\n      _style.height = elemOffset.height + 'px';\n      _style.position = 'relative';\n      _style.left = -i % gridNum * gridWidth;\n      _style.top = -Math.floor(i / gridNum) * gridWidth;\n      _style.overflow = 'hidden';\n      props.style = _style;\n      var delay = direction === 'next' ? i % gridNum * 50 + Math.floor(i / gridNum) * 50 : (gridNum - 1 - i % gridNum) * 50 + (gridNumH - 1 - Math.floor(i / gridNum)) * 50;\n      delay += animData.delay || 0;\n      var length = direction === 'next' ? gridNum * gridNumH - 1 : 0;\n      var animation = _extends({}, animData, {\n        opacity: 1,\n        delay: delay,\n        onComplete: i === length ? animData.onComplete : null\n      });\n      var mask = React.createElement(\n        elem.type,\n        {\n          style: style,\n          key: i,\n          paused: paused,\n          animation: animation,\n          moment: moment\n        },\n        cloneElement(elem, props)\n      );\n      animChild.push(mask);\n    }\n    var _props = _extends({}, elem.props);\n    _props.children = animChild;\n    return cloneElement(elem, _extends({}, _props, { animation: { x: 0, y: 0, type: 'set' } }));\n  }\n};","import _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { ticker } from 'rc-tween-one';\nimport Arrow from './Arrow';\nimport Thumb from './Thumb';\nimport { toArrayChildren, dataToArray } from './utils';\nimport animType from './anim';\n\nvar BannerAnim = function (_Component) {\n  _inherits(BannerAnim, _Component);\n\n  _createClass(BannerAnim, null, [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(props, _ref) {\n      var prevProps = _ref.prevProps,\n          $self = _ref.$self;\n\n      var nextState = {\n        prevProps: props\n      };\n      if (prevProps && props !== prevProps) {\n        $self.tweenBool = false;\n      }\n      return nextState; // eslint-disable-line\n    }\n  }]);\n\n  function BannerAnim(props) {\n    _classCallCheck(this, BannerAnim);\n\n    var _this = _possibleConstructorReturn(this, (BannerAnim.__proto__ || Object.getPrototypeOf(BannerAnim)).call(this, props));\n\n    _this.onMouseEnter = function (e) {\n      _this.props.onMouseEnter(e);\n      if (_this.props.autoPlay && _this.props.autoPlayEffect) {\n        ticker.clear(_this.autoPlayId);\n        _this.autoPlayId = -1;\n      }\n    };\n\n    _this.onMouseLeave = function (e) {\n      _this.props.onMouseLeave(e);\n      if (_this.props.autoPlay && _this.props.autoPlayEffect) {\n        _this.autoPlay();\n      }\n    };\n\n    _this.onTouchStart = function (e) {\n      if (e.touches && e.touches.length > 1 || _this.elemWrapper.length <= 1 || _this.getDomIsArrowOrThumb(e) || e.button === 2 || _this.tweenBool) {\n        return;\n      }\n      if (_this.props.autoPlay) {\n        ticker.clear(_this.autoPlayId);\n        _this.autoPlayId = -1;\n      }\n      _this.animType = _this.getAnimType(_this.props.type);\n      _this.currentShow = _this.state.currentShow;\n      // this.mouseMoveType = 'start';\n      _this.mouseStartXY = {\n        startX: e.touches === undefined ? e.clientX : e.touches[0].clientX,\n        startY: e.touches === undefined ? e.clientY : e.touches[0].clientY\n      };\n    };\n\n    _this.onTouchMove = function (e) {\n      if (!_this.mouseStartXY || e.touches && e.touches.length > 1 || _this.tweenBool) {\n        return;\n      }\n\n      var _this$getDiffer = _this.getDiffer(e, e.touches),\n          differ = _this$getDiffer.differ,\n          rectName = _this$getDiffer.rectName;\n\n      if (!differ) {\n        return;\n      }\n      var ratio = differ / _this.state.domRect[rectName];\n      var ratioType = ratio < 0 ? '+' : '-';\n      var currentShow = _this.currentShow;\n      _this.mouseMoveType = 'update';\n      if (_this.ratioType !== ratioType) {\n        _this.ratioType = ratioType;\n        _this.mouseMoveType = 'reChild';\n        _this.setState({\n          currentShow: currentShow\n        });\n        return;\n      }\n      if ((_this.animType === animType.gridBar || _this.animType === animType.grid) && e.touches) {\n        return;\n      }\n      _this.ratio = ratio;\n      if (_this.ratio) {\n        var type = void 0;\n        if (_this.ratio < 0) {\n          currentShow += 1;\n          type = 'next';\n        } else {\n          currentShow -= 1;\n          type = 'prev';\n        }\n        _this.ratio = Math.abs(_this.ratio);\n        _this.ratio = _this.ratio > 0.99 ? 0.99 : _this.ratio;\n        currentShow = currentShow >= _this.elemWrapper.length ? 0 : currentShow;\n        currentShow = currentShow < 0 ? _this.elemWrapper.length - 1 : currentShow;\n        _this.setState({\n          currentShow: currentShow,\n          direction: type\n        });\n      }\n    };\n\n    _this.onTouchEnd = function (e) {\n      if (!_this.mouseStartXY || e.changedTouches && e.changedTouches.length > 1 || _this.tweenBool) {\n        return;\n      }\n\n      var _this$getDiffer2 = _this.getDiffer(e, e.changedTouches),\n          differ = _this$getDiffer2.differ,\n          rectName = _this$getDiffer2.rectName;\n\n      _this.mouseStartXY = null;\n      if (_this.props.autoPlay && _this.autoPlayId === -1) {\n        _this.autoPlay();\n      }\n      _this.mouseMoveType = 'end';\n      if (!differ) {\n        _this.mouseMoveType = '';\n        return;\n      }\n      if ((_this.animType === animType.gridBar || _this.animType === animType.grid) && e.changedTouches) {\n        var currentShow = _this.currentShow;\n        var ratio = differ / _this.state.domRect[rectName] * 2;\n        if (ratio < 0) {\n          currentShow += 1;\n        } else {\n          currentShow -= 1;\n        }\n        currentShow = currentShow >= _this.elemWrapper.length ? 0 : currentShow;\n        currentShow = currentShow < 0 ? _this.elemWrapper.length - 1 : currentShow;\n        _this.ratio = 0;\n        _this.mouseMoveType = '';\n        _this.slickGoTo(currentShow, true);\n        _this.tweenBool = true;\n        return;\n      }\n\n      if (_this.ratio > 0.3) {\n        _this.forceUpdate(function () {\n          _this.ratio = 0;\n          _this.mouseMoveType = '';\n        });\n      } else {\n        _this.setState({\n          currentShow: _this.currentShow,\n          direction: _this.ratioType === '+' ? 'prev' : 'next'\n        }, function () {\n          _this.ratio = 0;\n          _this.mouseMoveType = '';\n        });\n      }\n    };\n\n    _this.getDiffer = function (e, touches) {\n      var currentX = touches === undefined ? e.clientX : touches[0].clientX;\n      var currentY = touches === undefined ? e.clientY : touches[0].clientY;\n      var differX = currentX - _this.mouseStartXY.startX;\n      var differY = currentY - _this.mouseStartXY.startY;\n      var differ = Math.max(Math.abs(differX), Math.abs(differY));\n      differ = differ === Math.abs(differX) ? differX : differY;\n      return {\n        differ: differ,\n        rectName: differ === differX ? 'width' : 'height'\n      };\n    };\n\n    _this.getDomIsArrowOrThumb = function (e) {\n      var arrowClassName = e.target.className;\n      var thumbClassName = e.target.parentNode.className;\n      if (arrowClassName.indexOf('banner-anim-arrow') >= 0 || thumbClassName.indexOf('banner-anim-thumb') >= 0) {\n        return true;\n      }\n      return false;\n    };\n\n    _this.getRenderChildren = function (children) {\n      var elem = [];\n      var arrow = [];\n      var thumb = void 0;\n      var elementKeyNum = 0;\n      var thumbKeyNum = 0;\n\n      toArrayChildren(children).forEach(function (item, i) {\n        if (!item) {\n          return;\n        }\n        var itemProps = _extends({}, item.props);\n        if (item.type.isBannerAnimElement) {\n          itemProps.key = item.key || 'element-' + elementKeyNum;\n          elementKeyNum += 1;\n          itemProps.callBack = _this.animEnd;\n          itemProps.show = _this.state.currentShow === i;\n          itemProps.animType = _this.animType;\n          itemProps.duration = _this.props.duration;\n          itemProps.delay = _this.props.delay;\n          itemProps.ease = _this.props.ease;\n          itemProps.sync = _this.props.sync || itemProps.sync;\n          itemProps.elemOffset = {\n            top: _this.state.domRect.top,\n            width: _this.state.domRect.width,\n            height: _this.state.domRect.height\n          };\n          itemProps.direction = _this.state.direction;\n          itemProps.ratio = _this.ratio;\n          itemProps.mouseMoveType = _this.mouseMoveType;\n          elem.push(React.cloneElement(item, itemProps));\n        } else if (item.type.isBannerAnimArrow) {\n          itemProps.next = _this.next;\n          itemProps.prev = _this.prev;\n          itemProps.key = item.key || itemProps.arrowType;\n          arrow.push(React.cloneElement(item, itemProps));\n        } else if (item.type.isBannerAnimThumb) {\n          itemProps.key = item.key || 'thumb-' + thumbKeyNum;\n          thumbKeyNum += 1;\n          itemProps.thumbClick = _this.slickGoTo;\n          itemProps.active = _this.state.currentShow;\n          thumb = React.cloneElement(item, itemProps);\n        }\n      });\n      if (elem.length > 1) {\n        if (!arrow.length && _this.props.arrow) {\n          arrow.push(React.createElement(Arrow, { arrowType: 'prev', key: 'arrowPrev', next: _this.next, prev: _this.prev, defaultBool: true }), React.createElement(Arrow, { arrowType: 'next', key: 'arrowNext', next: _this.next, prev: _this.prev, defaultBool: true }));\n        }\n        if (!thumb && _this.props.thumb) {\n          thumb = React.createElement(Thumb, { length: elem.length, key: 'thumb',\n            thumbClick: _this.slickGoTo,\n            active: _this.state.currentShow,\n            defaultBool: true\n          });\n        }\n      }\n      _this.elemWrapper = elem;\n      return elem.concat(arrow, thumb);\n    };\n\n    _this.getDomDataSetToState = function () {\n      _this.dom = ReactDOM.findDOMNode(_this);\n      var domRect = _this.dom.getBoundingClientRect();\n      _this.setState({\n        domRect: domRect\n      });\n      _this.tweenBool = false;\n    };\n\n    _this.getAnimType = function (type) {\n      var typeArray = type ? dataToArray(type) : Object.keys(animType);\n      var random = Math.round(Math.random() * (typeArray.length - 1));\n      return animType[typeArray[random]];\n    };\n\n    _this.autoPlay = function () {\n      if (!_this.mouseStartXY) {\n        ticker.clear(_this.autoPlayId);\n        _this.autoPlayId = ticker.interval(_this.next, _this.props.autoPlaySpeed);\n      }\n    };\n\n    _this.animTweenStart = function (show, type, noGetAnimType) {\n      if (!noGetAnimType) {\n        _this.animType = _this.getAnimType(_this.props.type);\n      }\n      _this.props.onChange('before', show);\n      _this.setState({\n        currentShow: show,\n        direction: type\n      });\n    };\n\n    _this.animEnd = function (type) {\n      if (type === 'enter') {\n        _this.tweenBool = false;\n        _this.props.onChange('after', _this.state.currentShow);\n      }\n    };\n\n    _this.next = function () {\n      if (!_this.tweenBool) {\n        _this.tweenBool = true;\n        var newShow = _this.state.currentShow;\n        newShow++;\n        if (newShow >= _this.elemWrapper.length) {\n          newShow = 0;\n        }\n        _this.animTweenStart(newShow, 'next');\n      }\n    };\n\n    _this.prev = function () {\n      if (!_this.tweenBool) {\n        _this.tweenBool = true;\n        var newShow = _this.state.currentShow;\n        newShow--;\n        if (newShow < 0) {\n          newShow = _this.elemWrapper.length - 1;\n        }\n        _this.animTweenStart(newShow, 'prev');\n      }\n    };\n\n    _this.slickGoTo = function (i, noGetAnimType) {\n      if (!_this.tweenBool && i !== _this.state.currentShow) {\n        _this.tweenBool = true;\n        var type = i > _this.state.currentShow ? 'next' : 'prev';\n        _this.animTweenStart(i, type, noGetAnimType);\n      }\n    };\n\n    _this.state = {\n      currentShow: _this.props.initShow,\n      direction: null,\n      domRect: {},\n      $self: _this // eslint-disable-line\n    };\n    _this.tweenBool = false;\n    return _this;\n  }\n\n  _createClass(BannerAnim, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.getDomDataSetToState();\n      if (window.addEventListener) {\n        window.addEventListener('resize', this.getDomDataSetToState);\n        window.addEventListener('touchend', this.onTouchEnd);\n        window.addEventListener('mouseup', this.onTouchEnd);\n      } else {\n        window.attachEvent('onresize', this.getDomDataSetToState);\n        window.attachEvent('ontouchend', this.onTouchEnd);\n        window.attachEvent('onmouseup', this.onTouchEnd);\n      }\n      if (this.props.autoPlay) {\n        this.autoPlay();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.autoPlayId) {\n        ticker.clear(this.autoPlayId);\n        this.autoPlayId = 0;\n      }\n      if (window.addEventListener) {\n        window.removeEventListener('touchend', this.onTouchEnd);\n        window.removeEventListener('mouseup', this.onTouchEnd);\n        window.removeEventListener('resize', this.getDomDataSetToState);\n      } else {\n        window.detachEvent('ontouchend', this.onTouchEnd);\n        window.attachEvent('onmouseup', this.onTouchEnd);\n        window.detachEvent('onresize', this.getDomDataSetToState);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          type = _props.type,\n          prefixCls = _props.prefixCls,\n          component = _props.component,\n          initShow = _props.initShow,\n          duration = _props.duration,\n          delay = _props.delay,\n          ease = _props.ease,\n          arrow = _props.arrow,\n          thumb = _props.thumb,\n          autoPlaySpeed = _props.autoPlaySpeed,\n          autoPlay = _props.autoPlay,\n          sync = _props.sync,\n          dragPlay = _props.dragPlay,\n          autoPlayEffect = _props.autoPlayEffect,\n          props = _objectWithoutProperties(_props, ['type', 'prefixCls', 'component', 'initShow', 'duration', 'delay', 'ease', 'arrow', 'thumb', 'autoPlaySpeed', 'autoPlay', 'sync', 'dragPlay', 'autoPlayEffect']);\n\n      var childrenToRender = this.getRenderChildren(props.children);\n      props.className = (props.className + ' ' + (prefixCls || '')).trim();\n      props.style = _extends({}, props.style);\n      props.onMouseEnter = this.onMouseEnter;\n      props.onMouseLeave = this.onMouseLeave;\n      if (childrenToRender.length > 1 && this.props.dragPlay) {\n        props.onTouchStart = this.onTouchStart;\n        props.onMouseDown = this.onTouchStart;\n        props.onTouchMove = this.onTouchMove;\n        props.onMouseMove = this.onTouchMove;\n        // props.onTouchEnd = this.onTouchEnd;\n        // props.onMouseUp = this.onTouchEnd;\n      }\n      return React.createElement(this.props.component, props, childrenToRender);\n    }\n  }]);\n\n  return BannerAnim;\n}(Component);\n\nBannerAnim.propTypes = {\n  children: PropTypes.any,\n  style: PropTypes.object,\n  className: PropTypes.string,\n  prefixCls: PropTypes.string,\n  component: PropTypes.any,\n  arrow: PropTypes.bool,\n  thumb: PropTypes.bool,\n  initShow: PropTypes.number,\n  type: PropTypes.any,\n  duration: PropTypes.number,\n  delay: PropTypes.number,\n  ease: PropTypes.string,\n  autoPlay: PropTypes.bool,\n  autoPlaySpeed: PropTypes.number,\n  autoPlayEffect: PropTypes.bool,\n  onChange: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  sync: PropTypes.bool,\n  dragPlay: PropTypes.bool\n};\nBannerAnim.defaultProps = {\n  component: 'div',\n  className: 'banner-anim',\n  initShow: 0,\n  duration: 450,\n  delay: 0,\n  ease: 'easeInOutQuad',\n  arrow: true,\n  thumb: true,\n  autoPlaySpeed: 5000,\n  autoPlayEffect: true,\n  dragPlay: true,\n  onChange: function onChange() {},\n  onMouseEnter: function onMouseEnter() {},\n  onMouseLeave: function onMouseLeave() {}\n};\nBannerAnim.isBannerAnim = true;\nexport default BannerAnim;","import _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { Tween } from 'rc-tween-one';\nimport { stylesToCss } from 'style-utils';\nimport { currentScrollTop, toArrayChildren, windowHeight } from './utils';\nimport animType from './anim';\n\nvar BgElement = function (_React$Component) {\n  _inherits(BgElement, _React$Component);\n\n  _createClass(BgElement, null, [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(props, _ref) {\n      var prevProps = _ref.prevProps,\n          $self = _ref.$self;\n\n      var nextState = {\n        prevProps: props\n      };\n      if (prevProps && props !== prevProps) {\n        if (props.show) {\n          // 取 dom 在 render 之后；\n          setTimeout(function () {\n            if ($self.video && prevProps.videoResize && $self.videoLoad) {\n              $self.onResize();\n            }\n            if (prevProps.scrollParallax) {\n              $self.onScroll();\n            }\n          });\n        }\n      }\n      return nextState;\n    }\n  }]);\n\n  function BgElement(props) {\n    _classCallCheck(this, BgElement);\n\n    var _this = _possibleConstructorReturn(this, (BgElement.__proto__ || Object.getPrototypeOf(BgElement)).call(this, props));\n\n    _this.onScroll = function () {\n      var scrollTop = currentScrollTop();\n      var domRect = _this.dom.parentNode.getBoundingClientRect();\n      var offsetTop = domRect.top + scrollTop;\n      var height = Math.max(domRect.height, windowHeight());\n      var elementShowHeight = scrollTop - offsetTop + height;\n      var scale = elementShowHeight / (height + domRect.height);\n      scale = scale || 0;\n      scale = scale >= 1 ? 1 : scale;\n      _this.tween.frame(scale * _this.scrollParallaxDuration);\n    };\n\n    _this.onResize = function () {\n      if (!_this.props.show) {\n        return;\n      }\n      var domRect = _this.dom.getBoundingClientRect();\n      var videoDomRect = _this.video.getBoundingClientRect();\n      _this.videoLoad = true;\n      var scale = void 0;\n      var videoRect = {\n        display: 'block',\n        position: 'relative',\n        top: 0,\n        left: 0\n      };\n      if (domRect.width / domRect.height > videoDomRect.width / videoDomRect.height) {\n        scale = domRect.width / videoDomRect.width;\n        videoRect.width = domRect.width;\n        videoRect.height = videoDomRect.height * scale;\n        videoRect.top = -(videoRect.height - domRect.height) / 2;\n      } else {\n        scale = domRect.height / videoDomRect.height;\n        videoRect.height = domRect.height;\n        videoRect.width = videoDomRect.width * scale;\n        videoRect.left = -(videoRect.width - domRect.width) / 2;\n      }\n\n      Object.keys(videoRect).forEach(function (key) {\n        _this.video.style[key] = stylesToCss(key, videoRect[key]);\n      });\n    };\n\n    _this.videoLoadedData = function () {\n      _this.onResize();\n      if (window.addEventListener) {\n        window.addEventListener('resize', _this.onResize);\n      } else {\n        window.attachEvent('onresize', _this.onResize);\n      }\n    };\n\n    _this.isVideo = toArrayChildren(props.children).some(function (item) {\n      return item.type === 'video';\n    });\n    if (_this.isVideo) {\n      // 如果是 video，删除 grid 系列，位置发生变化，重加载了 video;\n      delete animType.grid;\n      delete animType.gridBar;\n    }\n    if (props.scrollParallax) {\n      _this.scrollParallaxDuration = props.scrollParallax.duration || 450;\n    }\n    _this.video = null;\n    _this.videoLoad = false;\n    _this.state = {\n      $self: _this\n    };\n    return _this;\n  }\n\n  _createClass(BgElement, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.dom = ReactDOM.findDOMNode(this);\n      if (!this.videoLoad) {\n        if (this.video && this.props.videoResize) {\n          this.video.onloadeddata = this.videoLoadedData;\n        }\n      }\n      if (this.props.scrollParallax) {\n        this.tween = new Tween(this.dom, [_extends({\n          ease: 'linear' }, this.props.scrollParallax)]);\n        this.tween.init();\n        this.onScroll();\n        if (window.addEventListener) {\n          window.addEventListener('scroll', this.onScroll);\n        } else {\n          window.attachEvent('onscroll', this.onScroll);\n        }\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (window.addEventListener) {\n        window.removeEventListener('resize', this.onResize);\n        window.removeEventListener('scroll', this.onScroll);\n      } else {\n        window.detachEvent('onresize', this.onResize);\n        window.detachEvent('onscroll', this.onScroll);\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          videoResize = _props.videoResize,\n          scrollParallax = _props.scrollParallax,\n          show = _props.show,\n          component = _props.component,\n          componentProps = _props.componentProps,\n          props = _objectWithoutProperties(_props, ['videoResize', 'scrollParallax', 'show', 'component', 'componentProps']);\n\n      if (this.isVideo && videoResize) {\n        var children = toArrayChildren(props.children).map(function (item, i) {\n          return React.cloneElement(item, _extends({}, item.props, { key: item.key || 'bg-video-' + i, ref: function ref(c) {\n              _this2.video = c;\n              if (typeof item.ref === 'function') {\n                item.ref(c);\n              }\n            }\n          }));\n        });\n        props.children = children.length === 1 ? children[0] : children;\n      }\n      return React.createElement(this.props.component, _extends({}, props, componentProps));\n    }\n  }]);\n\n  return BgElement;\n}(React.Component);\n\nexport default BgElement;\n\n\nBgElement.propTypes = {\n  className: PropTypes.string,\n  style: PropTypes.object,\n  children: PropTypes.any,\n  component: PropTypes.any,\n  videoResize: PropTypes.bool,\n  scrollParallax: PropTypes.object,\n  show: PropTypes.bool,\n  componentProps: PropTypes.object\n};\n\nBgElement.defaultProps = {\n  component: 'div',\n  videoResize: true,\n  componentProps: {}\n};\n\nBgElement.isBannerAnimBgElement = true;","import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport { polyfill } from 'react-lifecycles-compat';\nimport TweenOne, { ticker } from 'rc-tween-one';\nimport easeTween from 'tween-functions';\nimport { getGsapType, isConvert, stylesToCss, checkStyleName } from 'style-utils';\n\nimport BgElement from './BgElement';\nimport { currentScrollTop, currentScrollLeft, dataToArray, toArrayChildren, setAnimCompToTagComp } from './utils';\nimport animType from './anim';\n\nfunction noop() {}\n\nvar Element = function (_Component) {\n  _inherits(Element, _Component);\n\n  _createClass(Element, null, [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(props, _ref) {\n      var prevProps = _ref.prevProps,\n          $self = _ref.$self,\n          show = _ref.show,\n          mouseMoveType = _ref.mouseMoveType;\n\n      var nextState = {\n        prevProps: props\n      };\n      if (prevProps && props !== prevProps) {\n        if ($self.tickerId !== -1) {\n          ticker.clear($self.tickerId);\n          $self.tickerId = -1;\n        }\n        var followParallax = props.followParallax;\n        if ($self.followParallax && !followParallax) {\n          $self.reFollowParallax();\n        } else {\n          $self.followParallax = followParallax;\n        }\n        if (show || props.show || mouseMoveType) {\n          nextState.mouseMoveType = props.mouseMoveType;\n        }\n      }\n      return nextState;\n    }\n  }]);\n\n  function Element(props) {\n    _classCallCheck(this, Element);\n\n    var _this = _possibleConstructorReturn(this, (Element.__proto__ || Object.getPrototypeOf(Element)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.state = {\n      show: props.show,\n      $self: _this\n    };\n    _this.tickerId = -1;\n    _this.enterMouse = null;\n    _this.delayTimeout = null;\n    _this.followParallax = props.followParallax;\n    _this.transform = checkStyleName('transform');\n    return _this;\n  }\n\n  _createClass(Element, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.dom = ReactDOM.findDOMNode(this);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (this.followParallax) {\n        this.doms = this.followParallax.data.map(function (item) {\n          return document.getElementById(item.id);\n        });\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      ticker.clear(this.timeoutID);\n      ticker.clear(this.delayTimeout);\n      this.delayTimeout = -1;\n      this.timeoutID = -1;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          prefixCls = _props.prefixCls,\n          callBack = _props.callBack,\n          propsAnimType = _props.animType,\n          duration = _props.duration,\n          delay = _props.delay,\n          ease = _props.ease,\n          elemOffset = _props.elemOffset,\n          followParallax = _props.followParallax,\n          show = _props.show,\n          type = _props.type,\n          direction = _props.direction,\n          leaveChildHide = _props.leaveChildHide,\n          sync = _props.sync,\n          ratio = _props.ratio,\n          mouseMoveType = _props.mouseMoveType,\n          children = _props.children,\n          propsStyle = _props.style,\n          componentProps = _props.componentProps,\n          props = _objectWithoutProperties(_props, ['prefixCls', 'callBack', 'animType', 'duration', 'delay', 'ease', 'elemOffset', 'followParallax', 'show', 'type', 'direction', 'leaveChildHide', 'sync', 'ratio', 'mouseMoveType', 'children', 'style', 'componentProps']);\n\n      var _state = this.state,\n          currentShow = _state.show,\n          currentMouseMoveType = _state.mouseMoveType;\n\n      var style = _extends({}, propsStyle);\n      style.display = show ? 'block' : 'none';\n      style.position = 'absolute';\n      style.width = '100%';\n      if (mouseMoveType !== 'end') {\n        style[this.transform] = '';\n      }\n      props.style = style;\n      props.className = ('banner-anim-elem ' + (prefixCls || '')).trim();\n      var bgElem = toArrayChildren(children).filter(function (item) {\n        return item && item.type.isBannerAnimBgElement;\n      }).map(function (item) {\n        return React.cloneElement(item, { show: props.show });\n      });\n      if (currentShow === show && !currentMouseMoveType || currentMouseMoveType === 'reChild') {\n        props.animation = { x: 0, y: 0, type: 'set' };\n        if (!show) {\n          this.enterMouse = null;\n          return React.createElement(TweenOne, props, bgElem);\n        }\n        if (followParallax) {\n          props.onMouseMove = this.getFollowMouseMove();\n        }\n        return React.createElement(TweenOne, props, mouseMoveType === 'update' ? bgElem : this.getChildren());\n      }\n      var $props = _extends({}, props, componentProps);\n      return this.animChildren($props, style, bgElem);\n    }\n  }]);\n\n  return Element;\n}(Component);\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.onMouseMove = function (e) {\n    _this2.domRect = _this2.dom.getBoundingClientRect();\n    _this2.enterMouse = _this2.enterMouse || { x: _this2.domRect.width / 2, y: _this2.domRect.height / 2 };\n    _this2.domWH = {\n      w: _this2.domRect.width,\n      h: _this2.domRect.height\n    };\n    _this2.offsetTop = _this2.domRect.top + currentScrollTop();\n    _this2.offsetLeft = _this2.domRect.left + currentScrollLeft();\n    var mouseXY = {\n      x: e.pageX - _this2.offsetLeft,\n      y: e.pageY - _this2.offsetTop\n    };\n    _this2.setTicker(_this2.followParallax, mouseXY);\n  };\n\n  this.setTicker = function (followParallax, mouseXY) {\n    var callback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : noop;\n\n    ticker.clear(_this2.tickerId);\n    _this2.tickerId = 'bannerElementTicker' + (Date.now() + Math.random());\n    var startFrame = ticker.frame;\n    var startX = _this2.enterMouse.x;\n    var startY = _this2.enterMouse.y;\n    var duration = followParallax.duration || 450;\n    var easeFunc = easeTween[followParallax.ease || 'easeOutQuad'];\n    var start = typeof followParallax.minMove === 'number' ? followParallax.minMove : 0.08;\n    ticker.wake(_this2.tickerId, function () {\n      var moment = (ticker.frame - startFrame) * ticker.perFrame;\n      var ratio = easeFunc(moment, start, 1, duration);\n      _this2.enterMouse.x = startX + (mouseXY.x - startX) * ratio;\n      _this2.enterMouse.y = startY + (mouseXY.y - startY) * ratio;\n      _this2.setFollowStyle(_this2.domWH);\n      if (moment >= duration) {\n        ticker.clear(_this2.tickerId);\n        callback();\n      }\n    });\n  };\n\n  this.getFollowMouseMove = function () {\n    var onMouseMove = void 0;\n    if (_this2.followParallax) {\n      if (_this2.followParallax.delay) {\n        onMouseMove = !_this2.delayTimeout ? null : _this2.state.onMouseMove;\n        _this2.delayTimeout = _this2.delayTimeout || ticker.timeout(function () {\n          _this2.setState({\n            onMouseMove: _this2.onMouseMove\n          });\n        }, _this2.followParallax.delay);\n      } else {\n        onMouseMove = _this2.onMouseMove;\n      }\n    }\n    return onMouseMove;\n  };\n\n  this.getFollowStyle = function (data, domWH) {\n    var style = {};\n    dataToArray(data.type).forEach(function (type) {\n      var mouseData = _this2.enterMouse.x;\n      var domData = domWH.w;\n      var value = data.value;\n      if ((type.indexOf('y') >= 0 || type.indexOf('Y') >= 0) && type !== 'opacity') {\n        mouseData = _this2.enterMouse.y;\n        domData = domWH.h;\n      }\n      var d = (mouseData - domData / 2) / (domData / 2) * value;\n      var _type = getGsapType(type);\n      var cssName = isConvert(_type);\n      if (cssName === 'transform') {\n        var transform = checkStyleName('transform');\n        style[transform] = style[transform] || {};\n        style[transform][_type] = stylesToCss(_type, d).trim();\n      } else if (cssName === 'filter') {\n        var filter = checkStyleName('filter');\n        style[filter] = style[filter] || {};\n        style[filter][_type] = stylesToCss(_type, d).trim();\n      } else {\n        style[cssName] = stylesToCss(_type, d).trim();\n      }\n    });\n    return style;\n  };\n\n  this.setFollowStyle = function (domWH) {\n    _this2.doms.forEach(function (item, i) {\n      if (!item) {\n        return;\n      }\n      var data = _this2.followParallax.data[i];\n      var style = _this2.getFollowStyle(data, domWH);\n      Object.keys(style).forEach(function (key) {\n        if (typeof style[key] === 'object') {\n          var styleStr = '';\n          Object.keys(style[key]).forEach(function (_key) {\n            styleStr += (' ' + _key + '(' + style[key][_key] + ')').trim();\n          });\n          item.style[key] = styleStr;\n          return;\n        }\n        item.style[key] = key.indexOf('backgroundPosition') >= 0 ? 'calc(' + (data.bgPosition || '0%') + ' + ' + style[key] + ' )' : style[key];\n      });\n    });\n  };\n\n  this.getChildren = function () {\n    return toArrayChildren(_this2.props.children).map(function (item, i) {\n      if (item && item.type === BgElement) {\n        return React.cloneElement(item, { show: _this2.state.show });\n      }\n      return _this2.useTagComp ? setAnimCompToTagComp(item, i) : item;\n    });\n  };\n\n  this.reFollowParallax = function () {\n    if (!_this2.domRect) {\n      return;\n    }\n    _this2.setTicker(_this2.followParallax, {\n      x: _this2.domRect.width / 2 - _this2.offsetLeft,\n      y: _this2.domRect.height / 2 - _this2.offsetTop\n    }, function () {\n      _this2.followParallax = null;\n    });\n  };\n\n  this.animEnd = function () {\n    var type = _this2.state.show ? 'enter' : 'leave';\n    _this2.props.callBack(type);\n    _this2.setState(function (_, props) {\n      return { show: props.show, mouseMoveType: null };\n    });\n  };\n\n  this.animChildren = function (props, style, bgElem) {\n    var _props2 = _this2.props,\n        elemOffset = _props2.elemOffset,\n        leaveChildHide = _props2.leaveChildHide,\n        ratio = _props2.ratio,\n        currentAnimType = _props2.animType,\n        direction = _props2.direction,\n        mouseMoveType = _props2.mouseMoveType,\n        ease = _props2.ease,\n        duration = _props2.duration,\n        delay = _props2.delay,\n        show = _props2.show,\n        sync = _props2.sync,\n        component = _props2.component;\n\n    if (_this2.tickerId) {\n      ticker.clear(_this2.tickerId);\n    }\n    if (_this2.delayTimeout) {\n      ticker.clear(_this2.delayTimeout);\n      _this2.delayTimeout = null;\n    }\n    style.display = 'block';\n\n    props.component = component;\n    style.zIndex = show ? 1 : 0;\n    var type = show ? 'enter' : 'leave';\n    _this2.useTagComp = (currentAnimType === animType.gridBar || currentAnimType === animType.grid) && (show === _this2.state.show || _this2.state.show && !show);\n    // 状态没改，锁定 children \n    props.children = !sync && (show && show !== _this2.state.show || !show && !_this2.state.show) ? bgElem : _this2.getChildren();\n    var childrenToRender = React.createElement(TweenOne, props);\n    var $ratio = mouseMoveType === 'end' && ratio <= 0.3 ? 1 - ratio : ratio;\n    var tag = currentAnimType(childrenToRender, type, direction, {\n      ease: ease,\n      duration: duration,\n      delay: delay,\n      onComplete: _this2.animEnd\n    }, elemOffset, leaveChildHide, $ratio, _this2.state.mouseMoveType === 'update');\n\n    var tagProps = _objectWithoutProperties(tag.props, []);\n\n    if (tagProps.animation) {\n      tagProps.moment = (tagProps.animation.duration + tagProps.animation.delay) * $ratio || 0;\n      tagProps.paused = _this2.state.mouseMoveType === 'update' || $ratio === 1;\n    }\n    return React.cloneElement(tag, tagProps);\n  };\n};\n\nElement.propTypes = {\n  children: PropTypes.any,\n  style: PropTypes.object,\n  prefixCls: PropTypes.string,\n  component: PropTypes.any,\n  elemOffset: PropTypes.object,\n  type: PropTypes.string,\n  animType: PropTypes.func,\n  ease: PropTypes.string,\n  duration: PropTypes.number,\n  delay: PropTypes.number,\n  direction: PropTypes.string,\n  callBack: PropTypes.func,\n  followParallax: PropTypes.any,\n  show: PropTypes.bool,\n  leaveChildHide: PropTypes.bool,\n  sync: PropTypes.bool,\n  ratio: PropTypes.number,\n  mouseMoveType: PropTypes.string,\n  componentProps: PropTypes.object\n};\nElement.defaultProps = {\n  component: 'div',\n  componentProps: {},\n  callBack: noop,\n  delay: 0\n};\n\nElement.BgElement = polyfill(BgElement);\nElement.isBannerAnimElement = true;\nexport default polyfill(Element);","// export this package's api\nimport { polyfill } from 'react-lifecycles-compat';\nimport BannerAnim from './BannerAnim';\nimport Arrow from './Arrow';\nimport Element from './Element';\nimport Thumb from './Thumb';\nimport animType from './anim';\nimport { setAnimCompToTagComp, switchChildren } from './utils';\n\nBannerAnim.Arrow = Arrow;\nBannerAnim.Element = Element;\nBannerAnim.Thumb = Thumb;\nBannerAnim.animType = animType;\nBannerAnim.setAnimCompToTagComp = setAnimCompToTagComp;\nBannerAnim.switchChildren = switchChildren;\n\nexport default polyfill(BannerAnim);\n\nexport { Arrow, Element, Thumb, animType, setAnimCompToTagComp, switchChildren };","import React from 'react';\n\nexport var windowIsUndefined = !(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nexport var transformOrFilter = {\n  transform: 1,\n  '-ms-transform': 1,\n  '-moz-transform': 1,\n  '-webkit-transform': 1,\n  '-o-transform': 1,\n  filter: 1,\n  '-webkit-filter': 1\n};\n\nexport var styleValueToArray = {\n  margin: 1,\n  padding: 1,\n  borderWidth: 1,\n  borderRadius: 1\n};\n\nexport function toArrayChildren(children) {\n  var ret = [];\n  React.Children.forEach(children, function (c) {\n    ret.push(c);\n  });\n  return ret;\n}\n\nexport function dataToArray(vars) {\n  if (!vars && vars !== 0) {\n    return [];\n  }\n  if (Array.isArray(vars)) {\n    return vars;\n  }\n  return [vars];\n}\n\nfunction deepEql(a, b) {\n  if (!a || !b) {\n    return false;\n  }\n  var $a = Object.keys(a);\n  var $b = Object.keys(b);\n  if ($a.length && $b.length && $a.length === $b.length) {\n    return !$a.some(function (key) {\n      var aa = a[key];\n      var bb = b[key];\n      if (Array.isArray(aa) && Array.isArray(bb)) {\n        var aaa = aa.join();\n        var bbb = bb.join();\n        if (aaa === bbb && !aaa.match(/\\[object object\\]/ig)) {\n          aa = aaa;\n          bb = bbb;\n        }\n      }\n      return aa !== bb;\n    });\n  }\n  return false;\n}\n\nexport function objectEqual(obj1, obj2) {\n  if (obj1 === obj2 || deepEql(obj1, obj2)) {\n    return true;\n  }\n  if (!obj1 || !obj2 || Object.keys(obj1).length !== Object.keys(obj2).length) {\n    return false;\n  }\n  // animation 写在标签上的进行判断是否相等， 判断每个参数有没有 function;\n  var equalBool = true;\n  var setEqualBool = function setEqualBool($a, $b) {\n    var objA = Object.keys($a).length > Object.keys($b).length ? $a : $b;\n    var objB = Object.keys($a).length > Object.keys($b).length ? $b : $a;\n    Object.keys(objA).forEach(function (key) {\n      // 如果前面有参数匹配不相同则直接返回；\n      if (!equalBool) {\n        return;\n      }\n      if (!(key in objB)) {\n        equalBool = false;\n      }\n\n      if (typeof objA[key] === 'object' && typeof objB[key] === 'object') {\n        equalBool = objectEqual(objA[key], objB[key]);\n      } else if (typeof objA[key] === 'function' && typeof objB[key] === 'function') {\n        if (objA[key].toString().replace(/\\s+/g, '') !== objB[key].toString().replace(/\\s+/g, '')) {\n          equalBool = false;\n        }\n      } else if (objA[key] !== objB[key]) {\n        equalBool = false;\n      }\n    });\n  };\n\n  if (Array.isArray(obj1) && Array.isArray(obj2)) {\n    if (obj1.length !== obj2.length) {\n      return false;\n    }\n    obj1.forEach(function (item, i) {\n      setEqualBool(item, obj2[i]);\n    });\n  } else {\n    setEqualBool(obj1, obj2);\n  }\n  return equalBool;\n}\n\nexport function findChildInChildrenByKey(children, key) {\n  var ret = null;\n  if (children) {\n    children.forEach(function (c) {\n      if (ret || !c) {\n        return;\n      }\n      if (c.key === key) {\n        ret = c;\n      }\n    });\n  }\n  return ret;\n}\n\nexport function mergeChildren(prev, next) {\n  var ret = [];\n  // For each key of `next`, the list of keys to insert before that key in\n  // the combined list\n  var nextChildrenPending = {};\n  var pendingChildren = [];\n  var followChildrenKey = void 0;\n  prev.forEach(function (c) {\n    if (!c) {\n      return;\n    }\n    if (findChildInChildrenByKey(next, c.key)) {\n      if (pendingChildren.length) {\n        nextChildrenPending[c.key] = pendingChildren;\n        pendingChildren = [];\n      }\n      followChildrenKey = c.key;\n    } else if (c.key) {\n      pendingChildren.push(c);\n    }\n  });\n  if (!followChildrenKey) {\n    ret = ret.concat(pendingChildren);\n  }\n\n  next.forEach(function (c) {\n    if (!c) {\n      return;\n    }\n    if (nextChildrenPending.hasOwnProperty(c.key)) {\n      // eslint-disable-line no-prototype-builtins\n      ret = ret.concat(nextChildrenPending[c.key]);\n    }\n    ret.push(c);\n    if (c.key === followChildrenKey) {\n      ret = ret.concat(pendingChildren);\n    }\n  });\n\n  return ret;\n}\n\nexport function transformArguments(arg, key, i) {\n  var result = void 0;\n  if (typeof arg === 'function') {\n    result = arg({\n      key: key,\n      index: i\n    });\n  } else {\n    result = arg;\n  }\n  return result;\n}\n\nexport function getChildrenFromProps(props) {\n  return props && props.children;\n}\n\nexport function startConvertToEndUnit(target, computedStyle, style, num, unit, dataUnit, fixed, isOriginWidth) {\n  if (windowIsUndefined) {\n    return num;\n  }\n  var horiz = /(?:Left|Right|Width|X)/i.test(style) || isOriginWidth;\n  horiz = style === 'padding' || style === 'marign' ? true : horiz;\n  var t = style.indexOf('border') !== -1 || style.indexOf('translate') !== -1 || style === 'transformOrigin' ? target : target.parentNode || document.body;\n  t = fixed ? document.body : t;\n  var pix = void 0;\n  var htmlComputedStyle = void 0;\n  // transform 在 safari 下会留着单位，chrome 下会全部转换成 px;\n  switch (unit) {\n    case '%':\n      pix = parseFloat(num) / 100 * (horiz ? t.clientWidth : t.clientHeight);\n      break;\n    case 'vw':\n      pix = parseFloat(num) * document.body.clientWidth / 100;\n      break;\n    case 'vh':\n      pix = parseFloat(num) * document.body.clientHeight / 100;\n      break;\n    case 'em':\n      pix = parseFloat(num) * parseFloat(computedStyle.fontSize);\n      break;\n    case 'rem':\n      {\n        htmlComputedStyle = window.getComputedStyle(document.getElementsByTagName('html')[0]);\n        pix = parseFloat(num) * parseFloat(htmlComputedStyle.fontSize);\n        break;\n      }\n    default:\n      pix = parseFloat(num);\n      break;\n  }\n  switch (dataUnit) {\n    case '%':\n      pix = pix ? pix * 100 / (horiz ? t.clientWidth : t.clientHeight) : 0;\n      break;\n    case 'vw':\n      pix = parseFloat(num) / document.body.clientWidth * 100;\n      break;\n    case 'vh':\n      pix = parseFloat(num) / document.body.clientHeight * 100;\n      break;\n    case 'em':\n      pix = parseFloat(num) / parseFloat(computedStyle.fontSize);\n      break;\n    case 'rem':\n      {\n        htmlComputedStyle = htmlComputedStyle || window.getComputedStyle(document.getElementsByTagName('html')[0]);\n        pix = parseFloat(num) / parseFloat(htmlComputedStyle.fontSize);\n        break;\n      }\n    default:\n      break;\n  }\n  return pix;\n}\n\nexport function parsePath(path) {\n  if (typeof path === 'string') {\n    if (path.charAt(0).match(/m/i)) {\n      var domPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n      domPath.setAttributeNS(null, 'd', path);\n      return domPath;\n    }\n    return document.querySelector(path);\n  } else if (path.style) {\n    return path;\n  }\n  throw new Error('Error while parsing the path');\n}\n\nexport function getTransformValue(t) {\n  if (typeof t === 'string') {\n    return t;\n  }\n  var perspective = t.perspective;\n  var angle = t.rotate;\n  var rotateX = t.rotateX;\n  var rotateY = t.rotateY;\n  var sx = t.scaleX;\n  var sy = t.scaleY;\n  var sz = t.scaleZ;\n  var skx = t.skewX;\n  var sky = t.skewY;\n  var translateX = typeof t.translateX === 'string' ? t.translateX : t.translateX + 'px';\n  var translateY = typeof t.translateY === 'string' ? t.translateY : t.translateY + 'px';\n  var translateZ = typeof t.translateZ === 'string' ? t.translateZ : t.translateZ + 'px';\n  var sk = skx || sky ? 'skew(' + skx + 'deg,' + sky + 'deg)' : '';\n  var an = angle ? 'rotate(' + angle + 'deg)' : '';\n  var ss = sx !== 1 || sy !== 1 || sz !== 1 ? 'scale3d(' + sx + ',' + sy + ',' + sz + ')' : '';\n  var rX = rotateX ? 'rotateX(' + rotateX + 'deg)' : '';\n  var rY = rotateY ? 'rotateY(' + rotateY + 'deg)' : '';\n  var per = perspective ? 'perspective(' + perspective + 'px)' : '';\n  var defaultTranslate = ss || an || rX || rY || sk ? '' : 'translate(0px, 0px)';\n  var translate = t.translateZ ? 'translate3d(' + translateX + ',' + translateY + ',' + translateZ + ')' : (t.translateX || t.translateY) && 'translate(' + translateX + ',' + translateY + ')' || defaultTranslate;\n  return (per + ' ' + translate + ' ' + ss + ' ' + an + ' ' + rX + ' ' + rY + ' ' + sk).trim();\n}","import easingTypes from 'tween-functions';\nimport { windowIsUndefined, parsePath } from './util';\n\neasingTypes.path = function (_path, _param) {\n  var param = _param || {};\n  if (windowIsUndefined) {\n    return 'linear';\n  }\n  var pathNode = parsePath(_path);\n  var pathLength = pathNode.getTotalLength();\n  var rect = param.rect || 100; // path 的大小，100 * 100，\n  var lengthPixel = param.lengthPixel || 200; // 线上取点像素，默认分为 200 段。。\n  var points = [];\n  for (var i = 0; i < lengthPixel - 1; i++) {\n    points.push(pathNode.getPointAtLength(pathLength / (lengthPixel - 1) * i));\n  }\n  points.push(pathNode.getPointAtLength(lengthPixel));\n  return function path(t, b, _c, d) {\n    var p = easingTypes.linear(t, b, _c, d);\n    var timePointX = rect * p; // X 轴的百分比;\n    // 取出 x 轴百分比上的点;\n    var point = points.filter(function (item) {\n      return item.x >= timePointX;\n    })[0] || pathNode.getPointAtLength(p * pathLength);\n    return 1 - point.y / rect;\n  };\n};\n\nexport default easingTypes;","/* eslint-disable func-names */\nvar Plugins = function Plugins() {};\nvar p = Plugins.prototype;\np.push = function (plugin) {\n  this[plugin.prototype.name] = plugin;\n};\nexport default new Plugins();","import _extends from 'babel-runtime/helpers/extends';\n/* eslint-disable func-names, no-console */\nimport { cssList, checkStyleName, getGsapType, parseShadow, getColor, parseColor, isTransform, isConvert, splitFilterToObject, getTransform, stylesToCss, createMatrix } from 'style-utils';\nimport { startConvertToEndUnit, getTransformValue, styleValueToArray } from '../util.js';\nimport _plugin from '../plugins';\n\nvar StylePlugin = function StylePlugin(target, vars, type) {\n  this.target = target;\n  this.vars = vars;\n  this.type = type;\n  this.propsData = {};\n  this.setDefaultData();\n};\nStylePlugin.prototype = {\n  name: 'style'\n};\nvar p = StylePlugin.prototype;\np.getTweenData = function (key, $vars) {\n  var data = {\n    data: {},\n    dataType: {},\n    dataUnit: {},\n    dataCount: {},\n    dataSplitStr: {}\n  };\n  var vars = $vars;\n  if (styleValueToArray[key]) {\n    vars = vars.toString().split(' ');\n    vars = vars.map(function (c) {\n      return typeof $vars === 'number' ? c + 'px' : c;\n    });\n    vars[1] = vars[1] || vars[0];\n    vars[2] = vars[2] || vars[0];\n    vars[3] = vars[3] || vars[1] || vars[0];\n    vars = vars.join(' ');\n  }\n  if (key.match(/colo|fill|storker/i)) {\n    data.data[key] = parseColor(vars);\n    data.dataType[key] = 'color';\n  } else if (key === 'strokeDasharray') {\n    data.data[key] = vars.split(',');\n    data.dataType[key] = 'strokeDasharray';\n  } else if (key.match(/shadow/i)) {\n    data.data[key] = parseShadow(vars);\n    data.dataType[key] = 'shadow';\n  } else if (typeof vars === 'string' && vars.split(/[\\s|,]/).length > 1) {\n    data.data[key] = vars.split(/[\\s|,]/);\n    data.dataSplitStr[key] = vars.replace(/[^\\s|,]/g, '').replace(/\\s+/g, ' ');\n    data.dataType[key] = 'string';\n  } else {\n    data.data[key] = vars;\n    data.dataType[key] = 'other';\n  }\n  if (Array.isArray(data.data[key])) {\n    data.dataUnit[key] = data.data[key].map(function (_item) {\n      return _item.toString().replace(/[^a-z|%]/g, '');\n    });\n    data.dataCount[key] = data.data[key].map(function (_item) {\n      return _item.toString().replace(/[^+|=|-]/g, '');\n    });\n\n    data.data[key] = data.data[key].map(function (_item) {\n      return !parseFloat(_item) && parseFloat(_item) !== 0 ? _item : parseFloat(_item);\n    });\n  } else {\n    data.dataUnit[key] = data.data[key].toString().replace(/[^a-z|%]/g, '');\n    data.dataCount[key] = data.data[key].toString().replace(/[^+|=|-]/g, '');\n    var d = parseFloat(data.data[key].toString().replace(/[a-z|%|=]/g, ''));\n    data.data[key] = !d && d !== 0 ? data.data[key] : d;\n  }\n  return data;\n};\np.setDefaultData = function () {\n  var _this = this;\n\n  this.propsData.data = {};\n  this.propsData.dataType = {};\n  this.propsData.dataUnit = {};\n  this.propsData.dataCount = {};\n  this.propsData.dataSplitStr = {};\n  Object.keys(this.vars).forEach(function (_key) {\n    if (_key in _plugin) {\n      _this.propsData.data[_key] = new _plugin[_key](_this.target, _this.vars[_key]);\n      return;\n    }\n    var key = getGsapType(_key);\n    var _data = _this.getTweenData(key, _this.vars[_key]);\n    _this.propsData.data[key] = _data.data[key];\n    _this.propsData.dataType[key] = _data.dataType[key];\n    _this.propsData.dataUnit[key] = _data.dataUnit[key];\n    _this.propsData.dataCount[key] = _data.dataCount[key];\n    if (_data.dataSplitStr[key]) {\n      _this.propsData.dataSplitStr[key] = _data.dataSplitStr[key];\n    }\n  });\n};\np.convertToMarksArray = function (computedStyle, unit, key, data, i) {\n  var startUnit = data.toString().replace(/[^a-z|%]/g, '');\n  var endUnit = unit[i];\n  if (startUnit === endUnit) {\n    return parseFloat(data);\n  } else if (!parseFloat(data) && parseFloat(data) !== 0) {\n    return data;\n  }\n  return startConvertToEndUnit(this.target, computedStyle, key, data, startUnit, endUnit, null, key === 'transformOrigin' && !i);\n};\np.getAnimStart = function (computedStyle, tween, isSvg) {\n  var _this2 = this;\n\n  var style = {};\n  var tweenStyle = tween.style || {};\n  var transform = void 0;\n  Object.keys(this.propsData.data).forEach(function (key) {\n    var cssName = isConvert(key);\n    var startData = tweenStyle[cssName] || computedStyle[cssName];\n    var fixed = computedStyle.position === 'fixed';\n    if (!startData || startData === 'none' || startData === 'auto') {\n      startData = '';\n    }\n    var endUnit = void 0;\n    var startUnit = void 0;\n    if (key in _plugin) {\n      if (key === 'bezier') {\n        _this2.transform = checkStyleName('transform');\n        startData = computedStyle[isSvg ? 'transformSVG' : _this2.transform];\n        transform = transform || (tweenStyle.transform ? _extends({}, tweenStyle.transform) : style.transform || getTransform(startData));\n        style.transform = transform;\n      }\n      _this2.propsData.data[key].getAnimStart(computedStyle, isSvg);\n    } else if (cssName === 'transform') {\n      _this2.transform = checkStyleName('transform');\n      startData = computedStyle[isSvg ? 'transformSVG' : _this2.transform];\n      endUnit = _this2.propsData.dataUnit[key];\n      transform = transform || (tweenStyle.transform ? _extends({}, tweenStyle.transform) : style.transform || getTransform(startData));\n      var unitReg = /%|vw|vh|em|rem/i;\n      if (endUnit && endUnit.match(unitReg)) {\n        transform[key] = transform[key] && transform[key].toString().match(unitReg) ? parseFloat(transform[key]) : startConvertToEndUnit(_this2.target, computedStyle, key, transform[key], null, endUnit);\n      }\n      style.transform = transform;\n    } else if (cssName === 'filter') {\n      if (tweenStyle[cssName]) {\n        startData = tweenStyle[cssName];\n      } else {\n        _this2.filterName = checkStyleName('filter') || 'filter';\n        startData = computedStyle[_this2.filterName];\n        _this2.filterObject = _extends({}, _this2.filterObject, splitFilterToObject(startData));\n        startData = _this2.filterObject[key] || 0;\n      }\n      startUnit = startData.toString().replace(/[^a-z|%]/g, '');\n      endUnit = _this2.propsData.dataUnit[key];\n      if (endUnit !== startUnit) {\n        startData = startConvertToEndUnit(_this2.target, computedStyle, cssName, parseFloat(startData), startUnit, endUnit, fixed);\n      }\n      style[key] = parseFloat(startData);\n    } else if (key.match(/color|fill/i) || key === 'stroke') {\n      startData = !startData && key === 'stroke' ? 'rgba(255, 255, 255, 0)' : startData;\n      style[cssName] = parseColor(startData);\n    } else if (key.match(/shadow/i)) {\n      startData = parseShadow(startData);\n      endUnit = _this2.propsData.dataUnit[key];\n      startData = startData.map(_this2.convertToMarksArray.bind(_this2, computedStyle, endUnit, key));\n      style[cssName] = startData;\n    } else if (Array.isArray(_this2.propsData.data[key])) {\n      startData = startData.split(/[\\s|,]/).filter(function (c) {\n        return c || c === 0;\n      });\n      endUnit = _this2.propsData.dataUnit[key];\n      startData = startData.map(_this2.convertToMarksArray.bind(_this2, computedStyle, endUnit, key));\n      style[cssName] = startData;\n    } else {\n      // 计算单位\n      endUnit = _this2.propsData.dataUnit[cssName];\n      startUnit = startData.toString().replace(/[^a-z|%]/g, '');\n      if (endUnit !== startUnit) {\n        startData = startConvertToEndUnit(_this2.target, computedStyle, cssName, parseFloat(startData), startUnit, endUnit, fixed);\n      }\n      style[cssName] = parseFloat(startData || 0);\n    }\n  });\n  this.start = style;\n  return style;\n};\np.setArrayRatio = function (ratio, start, vars, unit, type) {\n  if (type === 'color' && start.length === 4 && vars.length === 3) {\n    vars[3] = 1;\n  }\n  var startInset = start.indexOf('inset') >= 0;\n  var endInset = vars.indexOf('inset') >= 0;\n  if (startInset && !endInset || endInset && !startInset) {\n    throw console.error('Error: \"box-shadow\" inset have to exist');\n  }\n  var length = endInset ? 9 : 8;\n  if (start.length === length && vars.length === length - 1) {\n    vars.splice(3, 0, 0);\n    unit.splice(3, 0, '');\n  } else if (vars.length === length && start.length === length - 1) {\n    start.splice(3, 0, 0);\n  }\n  var _vars = vars.map(function (endData, i) {\n    var startIsAlpha = type === 'color' && i === 3 && !start[i] ? 1 : 0;\n    var startData = typeof start[i] === 'number' ? start[i] : startIsAlpha;\n    if (typeof endData === 'string') {\n      return endData;\n    }\n    return (endData - startData) * ratio + startData + (unit[i] || 0);\n  });\n  if (type === 'color') {\n    return getColor(_vars);\n  } else if (type === 'shadow') {\n    var l = _vars.length === length ? 4 : 3;\n    var s = _vars.slice(0, l).map(function (item) {\n      if (typeof item === 'number') {\n        return item + 'px';\n      }\n      return item;\n    });\n    var c = _vars.slice(l, endInset ? _vars.length - 1 : _vars.length);\n    var color = getColor(c);\n    return (s.join(' ') + ' ' + color + ' ' + (endInset ? 'inset' : '')).trim();\n  }\n  return _vars;\n};\n\np.setRatio = function (ratio, tween, computedStyle) {\n  var _this3 = this;\n\n  tween.style = tween.style || {};\n  if (this.start.transform) {\n    tween.style.transform = tween.style.transform || _extends({}, this.start.transform);\n  }\n  var style = this.target.style;\n  Object.keys(this.propsData.data).forEach(function (key) {\n    var _isTransform = isTransform(key) === 'transform';\n    var startVars = _isTransform ? _this3.start.transform[key] : _this3.start[key];\n    var endVars = _this3.propsData.data[key];\n    var unit = _this3.propsData.dataUnit[key];\n    var count = _this3.propsData.dataCount[key];\n    if (key in _plugin) {\n      _this3.propsData.data[key].setRatio(ratio, tween, computedStyle);\n      if (key === 'bezier') {\n        style[_this3.transform] = getTransformValue(tween.style.transform);\n      } else {\n        Object.keys(tween.style).forEach(function (css) {\n          style[css] = tween.style[css];\n        });\n      }\n      return;\n    } else if (_isTransform) {\n      if (unit && unit.match(/%|vw|vh|em|rem/i)) {\n        startVars = parseFloat(_this3.start.transform[key]);\n        if (count.charAt(1) === '=') {\n          tween.style.transform[key] = startVars + endVars * ratio + unit;\n        } else {\n          tween.style.transform[key] = (endVars - startVars) * ratio + startVars + unit;\n        }\n      } else if (key === 'scale') {\n        var xStart = _this3.start.transform.scaleX;\n        var yStart = _this3.start.transform.scaleY;\n        if (count.charAt(1) === '=') {\n          tween.style.transform.scaleX = xStart + endVars * ratio;\n          tween.style.transform.scaleY = yStart + endVars * ratio;\n        } else {\n          tween.style.transform.scaleX = (endVars - xStart) * ratio + xStart;\n          tween.style.transform.scaleY = (endVars - yStart) * ratio + yStart;\n        }\n      } else if (count.charAt(1) === '=') {\n        tween.style.transform[key] = startVars + endVars * ratio;\n      } else {\n        tween.style.transform[key] = (endVars - startVars) * ratio + startVars;\n      }\n      style[_this3.transform] = getTransformValue(tween.style.transform);\n      if (computedStyle) {\n        computedStyle.transformSVG = createMatrix(style[_this3.transform]).toString();\n      }\n      return;\n    } else if (Array.isArray(endVars)) {\n      var _type = _this3.propsData.dataType[key];\n      tween.style[key] = _this3.setArrayRatio(ratio, startVars, endVars, unit, _type);\n      if (_type === 'string') {\n        tween.style[key] = tween.style[key].join(_this3.propsData.dataSplitStr[key]);\n      }\n    } else {\n      var styleUnit = stylesToCss(key, 0);\n      styleUnit = typeof styleUnit === 'number' ? '' : styleUnit.replace(/[^a-z|%]/g, '');\n      unit = unit || (cssList.filter.indexOf(key) >= 0 ? '' : styleUnit);\n      if (typeof endVars === 'string') {\n        tween.style[key] = endVars;\n      } else if (count.charAt(1) === '=') {\n        tween.style[key] = startVars + endVars * ratio + unit;\n      } else {\n        var value = (endVars - startVars) * ratio + startVars;\n        tween.style[key] = unit ? '' + value + unit : value;\n      }\n    }\n    if (cssList.filter.indexOf(key) >= 0) {\n      if (!_this3.filterObject) {\n        return;\n      }\n      _this3.filterObject[key] = tween.style[key];\n      var filterStyle = '';\n      Object.keys(_this3.filterObject).forEach(function (filterKey) {\n        filterStyle += ' ' + filterKey + '(' + _this3.filterObject[filterKey] + ')';\n      });\n      style[_this3.filterName] = filterStyle.trim();\n      return;\n    }\n    style[key] = tween.style[key];\n  });\n};\nexport default StylePlugin;","import _extends from 'babel-runtime/helpers/extends';\n/* eslint-disable func-names */\n/**\n * Created by jljsj on 16/1/27.\n */\nimport { getColor, parseColor, toFixed, stylesToCss, createMatrix, getGsapType, isTransform, checkStyleName, toCssLowerCase } from 'style-utils';\n\nimport easingTypes from './easing';\nimport _plugin from './plugins';\nimport StylePlugin from './plugin/StylePlugin';\nimport { startConvertToEndUnit, transformOrFilter, dataToArray } from './util.js';\n\nvar DEFAULT_EASING = 'easeInOutQuad';\nvar DEFAULT_DURATION = 450;\nvar DEFAULT_DELAY = 0;\nfunction noop() {}\n_plugin.push(StylePlugin);\n// 设置默认数据\nfunction defaultData(vars, now) {\n  var duration = vars.duration || vars.duration === 0 ? vars.duration : DEFAULT_DURATION;\n  return {\n    duration: vars.type === 'set' ? 0 : duration,\n    delay: vars.delay || DEFAULT_DELAY,\n    ease: typeof vars.ease === 'function' ? vars.ease : easingTypes[vars.ease || DEFAULT_EASING],\n    onUpdate: vars.onUpdate || noop,\n    onComplete: vars.onComplete || noop,\n    onStart: vars.onStart || noop,\n    onRepeat: vars.onRepeat || noop,\n    repeat: vars.repeat || 0,\n    repeatDelay: vars.repeatDelay || 0,\n    yoyo: vars.yoyo || false,\n    type: vars.type === 'from' ? 'from' : 'to',\n    initTime: now,\n    appearTo: typeof vars.appearTo === 'number' ? vars.appearTo : null,\n    perTime: 0,\n    currentRepeat: 0\n  };\n}\n\nvar Tween = function Tween(target, to, attr) {\n  var toData = dataToArray(to);\n  this.target = target;\n  this.attr = attr || 'style';\n  // 时间精度补齐；\n  this.accuracy = 0.00001;\n  // 记录总时间;\n  this.totalTime = 0;\n  // 记录当前时间;\n  this.progressTime = 0;\n  // 记录时间轴数据;\n  this.defaultData = [];\n  // 每个的开始数据；\n  this.start = {};\n  // 开始默认的数据；\n  this.startDefaultData = {};\n  // 动画过程\n  this.tween = {};\n  // toData;\n  this.data = toData;\n  // 每帧的时间;\n  this.perFrame = Math.round(1000 / 60);\n  // 注册，第一次进入执行注册\n  this.register = false;\n  // svg元素\n  this.isSvg = this.target.ownerSVGElement;\n  // 设置 style\n  var data = this.setAttrIsStyle();\n  // 设置默认动画数据;\n  this.setDefaultData(data);\n};\nvar p = Tween.prototype;\np.setAttrIsStyle = function () {\n  var _this = this;\n\n  var data = [];\n  var defaultParam = defaultData({}, 0);\n  this.data.forEach(function (d, i) {\n    var _d = _extends({}, d);\n    if (_this.attr === 'style') {\n      data[i] = {};\n      Object.keys(_d).forEach(function (key) {\n        if (key in defaultParam) {\n          data[i][key] = _d[key];\n          delete _d[key];\n        }\n      });\n      data[i].style = _d;\n      _this.startDefaultData.style = _this.target.getAttribute('style') || '';\n    } else if (_this.attr === 'attr') {\n      Object.keys(_d).forEach(function (key) {\n        if (key === 'style' && Array.isArray(d[key])) {\n          throw new Error('Style should be the object.');\n        }\n        if (key === 'bezier') {\n          _d.style = _extends({}, _d.style, { bezier: _d[key] });\n          delete _d[key];\n          _this.startDefaultData.style = _this.target.getAttribute('style') || '';\n        } else {\n          if (key in defaultParam) {\n            return;\n          }\n          _this.startDefaultData[key] = _this.getValue(key);\n        }\n      });\n      data[i] = _d;\n    }\n  });\n  return data;\n};\np.setDefaultData = function (_vars) {\n  var _this2 = this;\n\n  var now = 0;\n  var repeatMax = false;\n  var data = _vars.map(function (item) {\n    var appearToBool = typeof item.appearTo === 'number';\n    // 加上延时，在没有播放过时；\n    if (!appearToBool) {\n      now += item.delay || 0;\n    }\n    var appearToTime = (item.appearTo || 0) + (item.delay || 0);\n    // 获取默认数据\n    var tweenData = defaultData(item, appearToBool ? appearToTime : now);\n    tweenData.vars = {};\n    Object.keys(item).forEach(function (_key) {\n      if (!(_key in tweenData)) {\n        var _data = item[_key];\n        if (_key in _plugin) {\n          tweenData.vars[_key] = new _plugin[_key](_this2.target, _data, tweenData.type);\n        } else if ((_key === 'd' || _key === 'points') && 'SVGMorph' in _plugin) {\n          tweenData.vars[_key] = new _plugin.SVGMorph(_this2.target, _data, _key);\n        } else if (_key.match(/color/i) || _key === 'stroke' || _key === 'fill') {\n          tweenData.vars[_key] = { type: 'color', vars: parseColor(_data) };\n        } else if (typeof _data === 'number' || _data.split(/[,|\\s]/g).length <= 1) {\n          var vars = parseFloat(_data);\n          var unit = _data.toString().replace(/[^a-z|%]/g, '');\n          var count = _data.toString().replace(/[^+|=|-]/g, '');\n          tweenData.vars[_key] = { unit: unit, vars: vars, count: count };\n        }\n      }\n    });\n    if (tweenData.yoyo && !tweenData.repeat) {\n      console.warn('Warning: yoyo must be used together with repeat;'); // eslint-disable-line\n    }\n    if (tweenData.repeat === -1) {\n      repeatMax = true;\n    }\n    var repeat = tweenData.repeat === -1 ? 0 : tweenData.repeat;\n    if (appearToBool) {\n      // 如果有 appearTo 且这条时间比 now 大时，，总时间用这条；\n      var appearNow = item.appearTo + (item.delay || 0) + tweenData.duration * (repeat + 1) + tweenData.repeatDelay * repeat;\n      now = appearNow >= now ? appearNow : now;\n    } else if (tweenData.delay < -tweenData.duration) {\n      // 如果延时小于 负时间时,,不加,再减回延时;\n      now -= tweenData.delay;\n    } else {\n      // repeat 为 -1 只记录一次。不能跟 reverse 同时使用;\n      now += tweenData.duration * (repeat + 1) + tweenData.repeatDelay * repeat;\n    }\n    tweenData.mode = '';\n    return tweenData;\n  });\n  this.totalTime = repeatMax ? Number.MAX_VALUE : now;\n  this.defaultData = data;\n};\np.getComputedStyle = function () {\n  var style = typeof window !== 'undefined' && document.defaultView ? document.defaultView.getComputedStyle(this.target) : {};\n  // 如果是 SVG, 样式全部提出为 transformSVG, 兼容 safari 不能获取 transform;\n  if (this.isSvg) {\n    var transform = style[checkStyleName('transform')] || 'none';\n    if (transform === 'none') {\n      var attrStyle = this.target.getAttribute('style');\n      if (attrStyle && attrStyle.indexOf('transform:') >= 0) {\n        transform = attrStyle.split(';').filter(function (k) {\n          return k.indexOf('transform:') >= 0;\n        }).map(function (item) {\n          return createMatrix(item.split(':')[1].trim()).toString();\n        })[0];\n      } else if (this.target.getAttribute('transform')) {\n        // 暂时不支持标签上的 transform，后期增加;\n        console.warn('Do not add transform on the label, otherwise it will be invalid.'); // eslint-disable-line no-console\n      }\n    }\n    style.transformSVG = transform;\n  }\n  return style;\n};\np.getAnimStartData = function (item) {\n  var _this3 = this;\n\n  var start = {};\n  Object.keys(item).forEach(function (_key) {\n    if (_key in _plugin || _this3.attr === 'attr' && (_key === 'd' || _key === 'points')) {\n      _this3.computedStyle = _this3.computedStyle || (!_this3.target.getAttribute ? _extends({}, _this3.target) : _this3.getComputedStyle());\n      start[_key] = item[_key].getAnimStart(_this3.computedStyle, _this3.tween, _this3.isSvg);\n      return;\n    }\n    if (_this3.attr === 'attr') {\n      // 除了d和这points外的标签动画；\n      var attribute = _this3.getValue(_key);\n      var s = _key.match(/opacity/ig) ? 1 : 0;\n      var data = attribute === 'null' || !attribute ? s : attribute;\n      if (_key.match(/color/i) || _key === 'stroke' || _key === 'fill') {\n        data = !data && _key === 'stroke' ? 'rgba(255, 255, 255, 0)' : data;\n        data = parseColor(data);\n        start[_key] = data;\n      } else if (parseFloat(data) || parseFloat(data) === 0 || data === 0) {\n        var unit = data.toString().replace(/[^a-z|%]/g, '');\n        start[_key] = unit !== item[_key].unit ? startConvertToEndUnit(_this3.target, _key, parseFloat(data), unit, item[_key].unit) : parseFloat(data);\n      }\n      return;\n    }\n    start[_key] = _this3.target[_key] || 0;\n  });\n  return start;\n};\np.setAnimData = function (data) {\n  var _this4 = this;\n\n  Object.keys(data).forEach(function (key) {\n    if (key in _plugin || _this4.attr === 'attr' && (key === 'd' || key === 'points')) {\n      return;\n    }\n    _this4.target[key] = data[key];\n  });\n};\np.setRatio = function (ratio, endData, i) {\n  var _this5 = this;\n\n  Object.keys(endData.vars).forEach(function (_key) {\n    if (_key in _plugin || _this5.attr === 'attr' && (_key === 'd' || _key === 'points')) {\n      endData.vars[_key].setRatio(ratio, _this5.tween, _this5.isSvg && _this5.computedStyle);\n      return;\n    }\n    var endVars = endData.vars[_key];\n    var startVars = _this5.start[i][_key];\n    var data = void 0;\n    if (_this5.attr === 'attr') {\n      // 除了d和这points外的标签动画；\n      if (!endVars.type) {\n        data = endVars.unit.charAt(1) === '=' ? startVars + endVars.vars * ratio + endVars.unit : (endVars.vars - startVars) * ratio + startVars + endVars.unit;\n        _this5.setValue(_key, endVars.unit ? data : parseFloat(data));\n      } else if (endVars.type === 'color') {\n        if (endVars.vars.length === 3 && startVars.length === 4) {\n          endVars.vars[3] = 1;\n        }\n        data = endVars.vars.map(function (_endData, _i) {\n          var startData = startVars[_i] || 0;\n          return (_endData - startData) * ratio + startData;\n        });\n        _this5.setValue(_key, getColor(data));\n      }\n    }\n  });\n  this.setAnimData(this.tween);\n};\np.getValue = function (key) {\n  return this.target.getAttribute ? this.target.getAttribute(key) : this.target[key];\n};\np.setValue = function (key, value) {\n  if (this.target.setAttribute) {\n    this.target.setAttribute(key, value);\n  } else {\n    this.target[key] = value;\n  }\n};\np.render = function () {\n  var _this6 = this;\n\n  var reverse = this.reverse;\n  this.defaultData.forEach(function (item, i) {\n    var initTime = item.initTime;\n    var duration = toFixed(item.duration);\n    // 处理 yoyo 和 repeat; yoyo 是在时间轴上的, 并不是倒放\n    var repeatNum = Math.ceil((_this6.progressTime - initTime) / (duration + item.repeatDelay)) - 1 || 0;\n    repeatNum = repeatNum < 0 ? 0 : repeatNum;\n    if (item.repeat) {\n      if (item.repeat < repeatNum && item.repeat !== -1) {\n        return;\n      }\n      if (item.repeat || item.repeat <= repeatNum) {\n        initTime += repeatNum * (duration + item.repeatDelay);\n      }\n    }\n    var startData = item.yoyo && repeatNum % 2 ? 1 : 0;\n    var endData = item.yoyo && repeatNum % 2 ? 0 : 1;\n    startData = item.type === 'from' ? 1 - startData : startData;\n    endData = item.type === 'from' ? 1 - endData : endData;\n    //  精度损失，只取小数点后10位。\n    var progressTime = toFixed(_this6.progressTime - initTime);\n\n    var ratio = void 0;\n\n    // 开始注册;\n    // from 时需先执行参数位置;\n    var fromDelay = item.type === 'from' ? item.delay : 0;\n    if (progressTime + fromDelay >= 0) {\n      if (!_this6.start[i]) {\n        // 设置 start\n        _this6.start[i] = _this6.getAnimStartData(item.vars);\n        if (progressTime < _this6.perFrame) {\n          ratio = !item.duration && !item.delay ? item.ease(1, startData, endData, 1) : item.ease(0, startData, endData, 1);\n          _this6.setRatio(ratio, item, i);\n        } else if (progressTime > duration) {\n          ratio = item.ease(1, startData, endData, 1);\n          _this6.setRatio(ratio, item, i);\n        }\n        if (!_this6.register || i && !initTime) {\n          _this6.register = true;\n          if (progressTime === 0 && item.duration && item.delay) {\n            return;\n          }\n        }\n      }\n    }\n\n    var e = {\n      index: i,\n      target: _this6.target\n    };\n    var cb = _extends({\n      moment: _this6.progressTime\n    }, e);\n    var maxPer = _this6.perFrame - _this6.accuracy;\n    var startTime = item.delay && reverse ? -maxPer : 0;\n    if ((progressTime >= startTime && !(progressTime > duration && item.mode === 'onComplete') || progressTime < startTime && item.mode && item.mode !== 'onStart') && _this6.start[i]) {\n      var updateAnim = _this6.updateAnim === 'update';\n      progressTime = progressTime < maxPer && !reverse && item.duration >= _this6.perFrame ? 0 : progressTime;\n      if ((progressTime >= duration - _this6.accuracy && !reverse || reverse && progressTime <= 0) && repeatNum >= item.repeat) {\n        if (item.mode === 'onComplete') {\n          return;\n        }\n        // onReveresComplete 和 onComplete 统一用 onComplete;\n        ratio = item.ease(reverse ? 0 : 1, startData, endData, 1);\n        _this6.setRatio(ratio, item, i, item.currentRepeat !== repeatNum);\n        if ((!item.reset || item.reset && progressTime >= duration) && !updateAnim) {\n          // duration 为 0 时的一个回调；\n          if (duration < maxPer) {\n            if (!duration) {\n              item.onStart(e);\n              cb.mode = 'onStart';\n              _this6.onChange(cb);\n            }\n            item.onUpdate(_extends({ ratio: ratio }, e));\n            cb.mode = 'onUpdate';\n            _this6.onChange(cb);\n          }\n          item.onComplete(e);\n        } else if (progressTime >= duration + maxPer) {\n          return;\n        }\n        item.mode = 'onComplete';\n      } else if (duration > maxPer) {\n        var currentProgress = progressTime < 0 ? 0 : progressTime;\n        currentProgress = currentProgress > duration ? duration : currentProgress;\n        ratio = item.ease(currentProgress, startData, endData, duration);\n        _this6.setRatio(ratio, item, i);\n        if (!updateAnim) {\n          if (item.repeat && repeatNum > 0 && item.currentRepeat !== repeatNum) {\n            item.mode = 'onRepeat';\n            item.currentRepeat = repeatNum;\n            item.onRepeat(_extends({}, e, { repeatNum: repeatNum }));\n          } else if ((item.perTime <= 0 || reverse && item.perTime >= _this6.reverseStartTime - initTime) && item.mode !== 'onStart') {\n            // onReveresStart 和 onStart 统一用 onStart;\n            item.mode = 'onStart';\n            item.onStart(e);\n          } else {\n            item.mode = 'onUpdate';\n            item.onUpdate(_extends({ ratio: ratio }, e));\n          }\n        }\n      }\n\n      if (!updateAnim) {\n        cb.mode = item.mode;\n        _this6.onChange(cb);\n      }\n      item.perTime = progressTime;\n      if (item.reset) {\n        delete item.reset;\n      }\n    }\n  });\n};\n// 播放帧\np.frame = function (moment) {\n  var _this7 = this;\n\n  this.progressTime = moment;\n  this.defaultData.forEach(function (item) {\n    var t = _this7.progressTime - item.duration - item.initTime;\n    if (t < _this7.perFrame && t > 0) {\n      _this7.progressTime = item.duration + item.initTime;\n    }\n  });\n  this.render();\n};\n\np.init = p.frame;\n\np.resetAnimData = function () {\n  this.tween = {};\n  this.start = {};\n};\n\nvar getDefaultStyle = function getDefaultStyle(domStyle, defaultStyle, tweenData) {\n  var $data = defaultData({}, 0);\n  var getStyleToArray = function getStyleToArray(styleString) {\n    return styleString.split(';').filter(function (c) {\n      return c;\n    }).map(function (str) {\n      return str.split(':').map(function (s) {\n        return s.trim();\n      });\n    });\n  };\n  var styleToArray = getStyleToArray(defaultStyle);\n  var domStyleToArray = getStyleToArray(domStyle);\n  tweenData.forEach(function (value) {\n    Object.keys(value).forEach(function (name) {\n      if (!(name in $data)) {\n        var $name = name === 'bezier' ? 'transform' : name;\n        var styleName = toCssLowerCase(isTransform(getGsapType($name)));\n        domStyleToArray = domStyleToArray.filter(function (item) {\n          // 去除 plugins 的特殊名称。\n          if (transformOrFilter[item[0]] && transformOrFilter[styleName]) {\n            return false;\n          }\n          return item[0] !== styleName;\n        });\n      }\n    });\n  });\n  styleToArray.forEach(function (item) {\n    domStyleToArray = domStyleToArray.filter(function ($item) {\n      if ($item[0] === item[0]) {\n        return false;\n      }\n      return true;\n    });\n  });\n  return styleToArray.concat(domStyleToArray).map(function (item) {\n    return item.join(':');\n  }).join(';');\n};\n\np.resetDefaultStyle = function () {\n  var _this8 = this;\n\n  this.tween = {};\n  this.defaultData = this.defaultData.map(function (item) {\n    item.reset = true;\n    delete item.mode;\n    return item;\n  });\n  var data = defaultData({}, 0);\n  Object.keys(this.startDefaultData).forEach(function (key) {\n    if (!(key in data)) {\n      if (key === 'style') {\n        var value = getDefaultStyle(_this8.target.style.cssText, _this8.startDefaultData.style, _this8.data);\n        _this8.setValue(key, value);\n      } else {\n        _this8.setValue(key, _this8.startDefaultData[key]);\n      }\n      _this8.computedStyle = null;\n    }\n  });\n};\n\np.reStart = function (style, preStyle, isTween) {\n  var _this9 = this;\n\n  this.start = {};\n  this.tween = {};\n  Object.keys(style || {}).forEach(function (key) {\n    if (isTween || !preStyle || style[key] !== preStyle[key]) {\n      _this9.target.style[key] = stylesToCss(key, style[key]);\n    }\n  });\n  this.setAttrIsStyle();\n  this.computedStyle = null;\n};\n\np.onChange = noop;\nexport default Tween;","/* eslint-disable func-names */\nimport requestAnimationFrame from 'raf';\n\nvar getTime = Date.now || function () {\n  return new Date().getTime();\n};\nvar sortObj = {\n  interval: 1,\n  timeout: 1,\n  TweenOneTicker: 2\n};\nvar tickObjToArray = function tickObjToArray(obj) {\n  return Object.keys(obj).map(function (k) {\n    return {\n      key: k,\n      func: obj[k]\n    };\n  }).sort(function (a, b) {\n    var aa = a.key.split('_')[0];\n    var bb = b.key.split('_')[0];\n    return sortObj[bb] - sortObj[aa];\n  });\n};\nvar Ticker = function Ticker() {};\nTicker.prototype = {\n  tickFnArray: [],\n  tickKeyObject: {},\n  id: -1,\n  tweenId: 0,\n  frame: 0,\n  perFrame: Math.round(1000 / 60),\n  elapsed: 0,\n  lastUpdate: getTime(),\n  startTime: getTime(), // 开始时间，不计算 react 渲染时间；\n  nextTime: 0,\n  time: 0\n};\nvar p = Ticker.prototype;\np.add = function (fn) {\n  var key = 'TweenOneTicker_' + this.tweenId;\n  this.tweenId++;\n  this.wake(key, fn);\n  return key;\n};\np.wake = function (key, fn) {\n  this.tickKeyObject[key] = fn;\n  this.tickFnArray = tickObjToArray(this.tickKeyObject);\n  if (this.id === -1) {\n    this.id = requestAnimationFrame(this.tick);\n  }\n};\np.clear = function (key) {\n  delete this.tickKeyObject[key];\n  this.tickFnArray = tickObjToArray(this.tickKeyObject);\n};\np.sleep = function () {\n  requestAnimationFrame.cancel(this.id);\n  this.id = -1;\n  this.frame = 0;\n};\nvar ticker = new Ticker();\np.tick = function (a) {\n  ticker.elapsed = getTime() - ticker.lastUpdate;\n  // 离开当前时设值 300；大于 300 则为离开。\n  if (ticker.elapsed > 300) {\n    ticker.startTime += ticker.elapsed - ticker.perFrame;\n  }\n  ticker.lastUpdate += ticker.elapsed;\n  ticker.time = ticker.lastUpdate - ticker.startTime;\n  var overlap = ticker.time - ticker.nextTime;\n  if (overlap > 0 || !ticker.frame) {\n    ticker.frame++;\n    ticker.nextTime += overlap;\n  }\n  // console.log(ticker.frame, ticker.nextTime, ticker.time)\n  ticker.tickFnArray.forEach(function (item) {\n    return item.func(a);\n  });\n  // 如果 object 里没对象了，自动杀掉；\n  if (!ticker.tickFnArray.length) {\n    ticker.sleep();\n    return;\n  }\n  ticker.id = requestAnimationFrame(ticker.tick);\n};\nvar timeoutIdNumber = 0;\np.timeout = function (fn, time) {\n  var _this = this;\n\n  if (!(typeof fn === 'function')) {\n    return console.warn('not function'); // eslint-disable-line\n  }\n  var timeoutID = 'timeout_' + Date.now() + '-' + timeoutIdNumber;\n  var startTime = this.time;\n  this.wake(timeoutID, function () {\n    var moment = _this.time - startTime;\n    if (moment >= (time || 0)) {\n      _this.clear(timeoutID);\n      fn();\n    }\n  });\n  timeoutIdNumber++;\n  return timeoutID;\n};\nvar intervalIdNumber = 0;\np.interval = function (fn, time) {\n  var _this2 = this;\n\n  if (!(typeof fn === 'function')) {\n    console.warn('not function'); // eslint-disable-line\n    return null;\n  }\n  var intervalID = 'interval_' + Date.now() + '-' + intervalIdNumber;\n  var starTime = this.time;\n  this.wake(intervalID, function () {\n    var moment = _this2.time - starTime;\n    if (moment >= (time || 0)) {\n      starTime = _this2.time;\n      fn();\n    }\n  });\n  intervalIdNumber++;\n  return intervalID;\n};\nexport default ticker;","import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDom from 'react-dom';\nimport { polyfill } from 'react-lifecycles-compat';\n\nimport { objectEqual } from './util';\nimport Tween from './Tween';\nimport ticker from './ticker';\n\nfunction noop() {}\n\nvar perFrame = Math.round(1000 / 60);\nvar objectOrArray = PropTypes.oneOfType([PropTypes.object, PropTypes.array]);\n\nvar TweenOne = function (_Component) {\n  _inherits(TweenOne, _Component);\n\n  _createClass(TweenOne, null, [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(props, _ref) {\n      var prevProps = _ref.prevProps,\n          $self = _ref.$self;\n\n      var nextState = {\n        prevProps: props\n      };\n      if (prevProps && props !== prevProps) {\n        if (!$self.tween && !$self.dom) {\n          $self.updateAnim = true;\n          return nextState;\n        }\n\n        // 动画处理\n        var newAnimation = props.animation;\n        var currentAnimation = prevProps.animation;\n        var equal = objectEqual(currentAnimation, newAnimation);\n        if (!equal) {\n          if (props.resetStyle && $self.tween) {\n            $self.tween.resetDefaultStyle();\n          }\n          $self.updateAnim = true;\n        }\n\n        // 跳帧事件 moment;\n        var nextMoment = props.moment;\n        if (typeof nextMoment === 'number' && nextMoment !== prevProps.moment) {\n          if ($self.tween && !$self.updateAnim) {\n            $self.startMoment = nextMoment;\n            $self.startTime = ticker.time;\n            if (props.paused) {\n              $self.raf();\n            }\n            if ($self.tween.progressTime >= $self.tween.totalTime) {\n              $self.play();\n            }\n          } else {\n            $self.updateAnim = true;\n          }\n        }\n\n        // 暂停倒放\n        if ($self.paused !== props.paused || $self.reverse !== props.reverse) {\n          $self.paused = props.paused;\n          $self.reverse = props.reverse;\n          if ($self.paused) {\n            $self.cancelRequestAnimationFrame();\n          } else if ($self.reverse && props.reverseDelay) {\n            $self.cancelRequestAnimationFrame();\n            ticker.timeout($self.restart, props.reverseDelay);\n          } else {\n            // 在 form 状态下，暂停时拉 moment 时，start 有值恢复播放，在 delay 的时间没有处理。。\n            if ($self.tween) {\n              $self.tween.resetAnimData();\n              $self.tween.resetDefaultStyle();\n            }\n            if (!$self.updateAnim) {\n              $self.restart();\n            }\n          }\n        }\n\n        var styleEqual = objectEqual(prevProps.style, props.style);\n        if (!styleEqual) {\n          // 在动画时更改了 style, 作为更改开始数值。\n          if ($self.tween) {\n            $self.tween.reStart(props.style, prevProps.style, $self.tween.progressTime < $self.tween.totalTime);\n            if ($self.paused) {\n              $self.raf();\n            }\n          }\n        }\n        $self.setForcedJudg(props);\n      }\n      return nextState; // eslint-disable-line\n    }\n  }]);\n\n  function TweenOne(props) {\n    _classCallCheck(this, TweenOne);\n\n    var _this = _possibleConstructorReturn(this, (TweenOne.__proto__ || Object.getPrototypeOf(TweenOne)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.rafID = -1;\n    _this.paused = props.paused;\n    _this.reverse = props.reverse;\n    _this.updateAnim = false;\n    _this.repeatNum = 0;\n    // 定义 ref 给外部使用；\n    _this.currentRef = null;\n    _this.forced = {};\n    _this.setForcedJudg(props);\n    _this.state = {\n      $self: _this\n    };\n    return _this;\n  }\n\n  _createClass(TweenOne, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.dom = ReactDom.findDOMNode(this);\n      if (this.dom && this.dom.nodeName !== '#text') {\n        this.start();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (!this.dom) {\n        this.dom = ReactDom.findDOMNode(this);\n      }\n      // 样式更新了后再执行动画；\n      if (this.updateAnim && this.dom && this.dom.nodeName !== '#text') {\n        if (this.tween) {\n          this.cancelRequestAnimationFrame();\n        }\n        this.start();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.cancelRequestAnimationFrame();\n    }\n\n    /**\n     * @method setForcedJudg\n     * @param props\n     * QueueAnim 套在组件下面后导至子级变化。\n     * <QueueAnim component={Menu} >\n     *   <SubMenu key=\"a\" title=\"导航\">\n     *     <Item />\n     *   </SubMenu>\n     * </QueueAnim>\n     * rc-Menu 里是以 isXXX 来判断是 rc-Menu 的子级;\n     * 如: 用 isSubMenu 来处理 hover 事件\n     * 地址: https://github.com/react-component/menu/blob/master/src/MenuMixin.js#L172\n     * 暂时方案: 在组件里添加判断用的值。\n     */\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          animation = _props.animation,\n          component = _props.component,\n          componentProps = _props.componentProps,\n          reverseDelay = _props.reverseDelay,\n          attr = _props.attr,\n          paused = _props.paused,\n          reverse = _props.reverse,\n          repeat = _props.repeat,\n          yoyo = _props.yoyo,\n          moment = _props.moment,\n          resetStyle = _props.resetStyle,\n          forcedJudg = _props.forcedJudg,\n          props = _objectWithoutProperties(_props, ['animation', 'component', 'componentProps', 'reverseDelay', 'attr', 'paused', 'reverse', 'repeat', 'yoyo', 'moment', 'resetStyle', 'forcedJudg']);\n\n      Object.keys(props.style || {}).forEach(function (p) {\n        if (p.match(/filter/i)) {\n          ['Webkit', 'Moz', 'Ms', 'ms'].forEach(function (prefix) {\n            props.style[prefix + 'Filter'] = props.style[p];\n          });\n        }\n      });\n      var refFunc = function refFunc(c) {\n        _this2.currentRef = c;\n      };\n      // component 为空时调用子级的。。\n      var className = props.className,\n          children = props.children;\n\n      if (!component && typeof children !== 'string') {\n        if (!children) {\n          return children;\n        }\n        var childrenProps = children.props;\n\n        var _ref2 = childrenProps || {},\n            childStyle = _ref2.style,\n            childClass = _ref2.className;\n        // 合并 style 与 className。\n\n\n        var newStyle = _extends({}, childStyle, props.style);\n        var newClassName = className ? className + ' ' + childClass : childClass;\n        return React.cloneElement(children, { style: newStyle, ref: refFunc, className: newClassName });\n      }\n      return React.createElement(component, _extends({\n        ref: refFunc\n      }, props, componentProps));\n    }\n  }]);\n\n  return TweenOne;\n}(Component);\n\nTweenOne.propTypes = {\n  component: PropTypes.any,\n  componentProps: PropTypes.any,\n  animation: objectOrArray,\n  children: PropTypes.any,\n  style: PropTypes.object,\n  paused: PropTypes.bool,\n  reverse: PropTypes.bool,\n  reverseDelay: PropTypes.number,\n  yoyo: PropTypes.bool,\n  repeat: PropTypes.number,\n  moment: PropTypes.number,\n  attr: PropTypes.string,\n  onChange: PropTypes.func,\n  resetStyle: PropTypes.bool,\n  forcedJudg: PropTypes.object\n};\nTweenOne.defaultProps = {\n  component: 'div',\n  componentProps: {},\n  reverseDelay: 0,\n  repeat: 0,\n  attr: 'style',\n  onChange: noop\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.setForcedJudg = function (props) {\n    Object.keys(_this3.forced).forEach(function (key) {\n      delete _this3[key];\n      delete _this3.forced[key];\n    });\n    if (props.forcedJudg) {\n      Object.keys(props.forcedJudg).forEach(function (key) {\n        if (!_this3[key]) {\n          _this3[key] = props.forcedJudg[key];\n          _this3.forced[key] = 1;\n        }\n      });\n    }\n  };\n\n  this.setDefault = function (props) {\n    _this3.moment = props.moment || 0;\n    _this3.startMoment = props.moment || 0;\n    _this3.startTime = ticker.time;\n  };\n\n  this.restart = function () {\n    if (!_this3.tween) {\n      return;\n    }\n    _this3.startMoment = _this3.moment;\n    _this3.startTime = ticker.time;\n    _this3.tween.reverse = _this3.reverse;\n    _this3.tween.reverseStartTime = _this3.startMoment;\n    _this3.raf();\n    _this3.play();\n  };\n\n  this.start = function () {\n    _this3.updateAnim = false;\n    var props = _this3.props;\n    if (props.animation && Object.keys(props.animation).length) {\n      _this3.setDefault(props);\n      _this3.tween = new Tween(_this3.dom, props.animation, props.attr);\n      _this3.tween.reverse = _this3.reverse;\n      // 预先注册 raf, 初始动画数值。\n      _this3.raf();\n      // 开始动画\n      _this3.play();\n    } else {\n      _this3.tween = null;\n    }\n  };\n\n  this.play = function () {\n    _this3.cancelRequestAnimationFrame();\n    if (_this3.paused) {\n      return;\n    }\n    _this3.rafID = ticker.add(_this3.raf);\n  };\n\n  this.frame = function () {\n    var yoyo = _this3.props.yoyo;\n    var repeat = _this3.props.repeat;\n\n    var totalTime = repeat === -1 ? Number.MAX_VALUE : _this3.tween.totalTime * (repeat + 1);\n    repeat = repeat >= 0 ? repeat : Number.MAX_VALUE;\n    var moment = ticker.time - _this3.startTime + _this3.startMoment;\n    if (_this3.reverse) {\n      moment = (_this3.startMoment || 0) - (ticker.time - _this3.startTime);\n    }\n    moment = moment > totalTime ? totalTime : moment;\n    moment = moment <= 0 ? 0 : moment;\n    var repeatNum = Math.floor(moment / _this3.tween.totalTime) || 0;\n    repeatNum = repeatNum > repeat ? repeat : repeatNum;\n    var tweenMoment = moment - _this3.tween.totalTime * repeatNum;\n    tweenMoment = tweenMoment < perFrame && !_this3.reverse && totalTime >= perFrame ? 0 : tweenMoment;\n    if (repeat && moment && moment - _this3.tween.totalTime * repeatNum < perFrame) {\n      // 在重置样式之前补 complete；\n      _this3.tween.frame(_this3.tween.totalTime * repeatNum);\n    }\n    if (moment < _this3.moment && !_this3.reverse || repeat !== 0 && repeatNum && repeatNum !== _this3.repeatNum) {\n      // 在 form 状态下，暂停时拉 moment 时，start 有值，，往返方向播放时，在 delay 的时间没有处理。。\n      // 与上面的处理一样，删除 start ，重新走一遍 start。。\n      _this3.tween.resetAnimData();\n      _this3.tween.resetDefaultStyle();\n    }\n    var yoyoReverse = yoyo && repeatNum % 2;\n    if (yoyoReverse) {\n      tweenMoment = _this3.tween.totalTime - tweenMoment;\n    }\n    _this3.tween.onChange = function (e) {\n      var cb = _extends({}, e, {\n        timelineMode: ''\n      });\n\n      if (_this3.moment === _this3.startMoment && !_this3.reverse && !e.index && e.mode === 'onStart' || _this3.reverse) {\n        cb.timelineMode = 'onTimelineStart';\n      } else if (moment >= totalTime && !_this3.reverse || !moment && _this3.reverse) {\n        cb.timelineMode = 'onTimelineComplete';\n      } else if (repeatNum !== _this3.timelineRepeatNum) {\n        cb.timelineMode = 'onTimelineRepeat';\n      } else {\n        cb.timelineMode = 'onTimelineUpdate';\n      }\n      _this3.timelineRepeatNum = repeatNum;\n      _this3.props.onChange(cb);\n    };\n    _this3.moment = moment;\n    _this3.repeatNum = repeatNum;\n    _this3.tween.frame(tweenMoment);\n  };\n\n  this.raf = function () {\n    var tween = _this3.tween;\n    _this3.frame();\n    if (tween !== _this3.tween) {\n      // 在 onComplete 时更换动画时，raf 没结束，所以需要强制退出，避逸两个时间的冲突。\n      return null;\n    }\n    var repeat = _this3.props.repeat;\n\n    var totalTime = repeat === -1 ? Number.MAX_VALUE : _this3.tween.totalTime * (repeat + 1);\n    if (_this3.moment >= totalTime && !_this3.reverse || _this3.paused || _this3.reverse && _this3.moment === 0) {\n      return _this3.cancelRequestAnimationFrame();\n    }\n    return null;\n  };\n\n  this.cancelRequestAnimationFrame = function () {\n    ticker.clear(_this3.rafID);\n    _this3.rafID = -1;\n  };\n};\n\nTweenOne.isTweenOne = true;\nexport default polyfill(TweenOne);","import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component, createElement } from 'react';\nimport PropTypes from 'prop-types';\nimport { polyfill } from 'react-lifecycles-compat';\n\nimport TweenOne from './TweenOne';\nimport { dataToArray, toArrayChildren, getChildrenFromProps, mergeChildren, transformArguments, findChildInChildrenByKey } from './util';\n\nfunction noop() {}\n\nvar TweenOneGroup = function (_Component) {\n  _inherits(TweenOneGroup, _Component);\n\n  _createClass(TweenOneGroup, null, [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(props, _ref) {\n      var prevProps = _ref.prevProps,\n          $self = _ref.$self;\n\n      var nextState = {\n        prevProps: props\n      };\n      if (prevProps && props !== prevProps) {\n        var nextChildren = toArrayChildren(props.children);\n        if (Object.keys($self.isTween).length && !props.exclusive) {\n          $self.animQueue.push(nextChildren);\n          return nextState;\n        }\n        var currentChildren = toArrayChildren($self.currentChildren);\n        nextState.children = $self.changeChildren(nextChildren, currentChildren);\n      }\n      return nextState; // eslint-disable-line\n    }\n  }]);\n\n  function TweenOneGroup(props) {\n    _classCallCheck(this, TweenOneGroup);\n\n    var _this = _possibleConstructorReturn(this, (TweenOneGroup.__proto__ || Object.getPrototypeOf(TweenOneGroup)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.keysToEnter = [];\n    _this.keysToLeave = [];\n    _this.saveTweenTag = {};\n    _this.onEnterBool = false;\n    _this.animQueue = [];\n    _this.isTween = {};\n    // 第一进入，appear 为 true 时默认用 enter 或 tween-one 上的效果\n    var children = toArrayChildren(getChildrenFromProps(_this.props));\n    _this.currentChildren = toArrayChildren(getChildrenFromProps(_this.props));\n    _this.state = {\n      children: children,\n      $self: _this\n    };\n    return _this;\n  }\n\n  _createClass(TweenOneGroup, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.onEnterBool = true;\n    }\n  }, {\n    key: 'changeChildren',\n    value: function changeChildren(nextChildren, currentChildren) {\n      var _this2 = this;\n\n      var newChildren = mergeChildren(currentChildren, nextChildren);\n      this.keysToEnter = [];\n      this.keysToLeave = [];\n      nextChildren.forEach(function (c) {\n        if (!c) {\n          return;\n        }\n        var key = c.key;\n        var hasPrev = findChildInChildrenByKey(currentChildren, key);\n        // 如果当前 key 已存在 saveTweenTag 里，，刷新 child;\n        if (_this2.saveTweenTag[key]) {\n          _this2.saveTweenTag[key] = React.cloneElement(_this2.saveTweenTag[key], {}, c);\n        }\n        if (!hasPrev && key) {\n          _this2.keysToEnter.push(key);\n        }\n      });\n\n      currentChildren.forEach(function (c) {\n        if (!c) {\n          return;\n        }\n        var key = c.key;\n        var hasNext = findChildInChildrenByKey(nextChildren, key);\n        if (!hasNext && key) {\n          _this2.keysToLeave.push(key);\n          delete _this2.saveTweenTag[key];\n        }\n      });\n      return newChildren;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var children = this.state.children;\n      // fix in strict mode https://github.com/ant-design/ant-motion/issues/323;\n\n      this.currentChildren = children;\n      var childrenToRender = this.getChildrenToRender(children);\n\n      var _props = this.props,\n          component = _props.component,\n          componentProps = _props.componentProps,\n          appear = _props.appear,\n          enter = _props.enter,\n          leave = _props.leave,\n          animatingClassName = _props.animatingClassName,\n          onEnd = _props.onEnd,\n          exclusive = _props.exclusive,\n          resetStyle = _props.resetStyle,\n          props = _objectWithoutProperties(_props, ['component', 'componentProps', 'appear', 'enter', 'leave', 'animatingClassName', 'onEnd', 'exclusive', 'resetStyle']);\n\n      if (!component) {\n        return childrenToRender[0] || null;\n      }\n      return createElement(component, _extends({}, props, componentProps), childrenToRender);\n    }\n  }]);\n\n  return TweenOneGroup;\n}(Component);\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.onChange = function (animation, key, type, obj) {\n    var length = dataToArray(animation).length;\n    var tag = obj.target;\n    var classIsSvg = typeof tag.className === 'object' && 'baseVal' in tag.className;\n    var isEnter = type === 'enter' || type === 'appear';\n    if (obj.mode === 'onStart') {\n      if (classIsSvg) {\n        tag.className.baseVal = _this3.setClassName(tag.className.baseVal, isEnter);\n      } else {\n        tag.className = _this3.setClassName(tag.className, isEnter);\n      }\n    } else if (obj.index === length - 1 && obj.mode === 'onComplete') {\n      delete _this3.isTween[key];\n      if (classIsSvg) {\n        tag.className.baseVal = tag.className.baseVal.replace(_this3.props.animatingClassName[isEnter ? 0 : 1], '').trim();\n      } else {\n        tag.className = tag.className.replace(_this3.props.animatingClassName[isEnter ? 0 : 1], '').trim();\n      }\n      if (type === 'enter') {\n        _this3.keysToEnter.splice(_this3.keysToEnter.indexOf(key), 1);\n        if (!_this3.keysToEnter.length) {\n          _this3.reAnimQueue();\n        }\n      } else if (type === 'leave') {\n        _this3.keysToLeave.splice(_this3.keysToLeave.indexOf(key), 1);\n        _this3.currentChildren = _this3.currentChildren.filter(function (child) {\n          return key !== child.key;\n        });\n        if (!_this3.keysToLeave.length) {\n          var currentChildrenKeys = _this3.currentChildren.map(function (item) {\n            return item.key;\n          });\n          Object.keys(_this3.saveTweenTag).forEach(function ($key) {\n            if (currentChildrenKeys.indexOf($key) === -1) {\n              delete _this3.saveTweenTag[$key];\n            }\n          });\n          _this3.setState({\n            children: _this3.currentChildren\n          }, _this3.reAnimQueue);\n        }\n      }\n      var _obj = { key: key, type: type };\n      _this3.props.onEnd(_obj);\n    }\n  };\n\n  this.setClassName = function (name, isEnter) {\n    var className = name.replace(_this3.props.animatingClassName[isEnter ? 1 : 0], '').trim();\n    if (className.indexOf(_this3.props.animatingClassName[isEnter ? 0 : 1]) === -1) {\n      className = (className + ' ' + _this3.props.animatingClassName[isEnter ? 0 : 1]).trim();\n    }\n    return className;\n  };\n\n  this.getTweenChild = function (child) {\n    var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var key = child.key;\n    _this3.saveTweenTag[key] = React.createElement(TweenOne, _extends({}, props, {\n      key: key,\n      component: null\n    }), child);\n    return _this3.saveTweenTag[key];\n  };\n\n  this.getCoverAnimation = function (child, i, type) {\n    var animation = void 0;\n    animation = type === 'leave' ? _this3.props.leave : _this3.props.enter;\n    if (type === 'appear') {\n      var appear = transformArguments(_this3.props.appear, child.key, i);\n      animation = appear && _this3.props.enter || null;\n    }\n    var animate = transformArguments(animation, child.key, i);\n    var onChange = _this3.onChange.bind(_this3, animate, child.key, type);\n    var props = {\n      key: child.key,\n      animation: animate,\n      onChange: onChange,\n      resetStyle: _this3.props.resetStyle\n    };\n    if (_this3.keysToEnter.concat(_this3.keysToLeave).indexOf(child.key) >= 0 || !_this3.onEnterBool && animation) {\n      if (!_this3.saveTweenTag[child.key]) {\n        _this3.isTween[child.key] = type;\n      }\n    }\n    var children = _this3.getTweenChild(child, props);\n    return children;\n  };\n\n  this.getChildrenToRender = function (children) {\n    return children.map(function (child, i) {\n      if (!child || !child.key) {\n        return child;\n      }\n      var key = child.key;\n      if (_this3.keysToLeave.indexOf(key) >= 0) {\n        return _this3.getCoverAnimation(child, i, 'leave');\n      } else if ((_this3.keysToEnter.indexOf(key) >= 0 || _this3.isTween[key] && _this3.keysToLeave.indexOf(key) === -1) && !(_this3.isTween[key] === 'enter' && _this3.saveTweenTag[key])) {\n        /**\n         * 1. 在 key 在 enter 里。\n         * 2. 出场未结束，触发进场, this.isTween[key] 为 leave, key 在 enter 里。\n         * 3. 状态为 enter 且 tweenTag 里有值时，不执行重载动画属性，直接调用 tweenTag 里的。\n         */\n        return _this3.getCoverAnimation(child, i, 'enter');\n      } else if (!_this3.onEnterBool) {\n        return _this3.getCoverAnimation(child, i, 'appear');\n      }\n      return _this3.saveTweenTag[key];\n    });\n  };\n\n  this.reAnimQueue = function () {\n    if (!Object.keys(_this3.isTween).length && _this3.animQueue.length) {\n      var children = _this3.changeChildren(_this3.animQueue[_this3.animQueue.length - 1], _this3.state.children);\n      _this3.setState({\n        children: children\n      });\n      _this3.animQueue = [];\n    }\n  };\n};\n\nTweenOneGroup.propTypes = {\n  component: PropTypes.any,\n  componentProps: PropTypes.object,\n  children: PropTypes.any,\n  style: PropTypes.object,\n  appear: PropTypes.bool,\n  enter: PropTypes.any,\n  leave: PropTypes.any,\n  animatingClassName: PropTypes.array,\n  onEnd: PropTypes.func,\n  resetStyle: PropTypes.bool,\n  exclusive: PropTypes.bool\n};\n\nTweenOneGroup.defaultProps = {\n  component: 'div',\n  componentProps: {},\n  appear: true,\n  animatingClassName: ['tween-one-entering', 'tween-one-leaving'],\n  enter: { x: 50, opacity: 0, type: 'from' },\n  leave: { x: -50, opacity: 0 },\n  onEnd: noop,\n  resetStyle: true,\n  exclusive: false\n};\nTweenOneGroup.isTweenOneGroup = true;\nexport default polyfill(TweenOneGroup);","// export this package's api\nimport TweenOne from './TweenOne';\nimport _tween from './Tween';\nimport group from './TweenOneGroup';\nimport _easing from './easing';\nimport _plugins from './plugins';\nimport _ticker from './ticker';\n\nTweenOne.TweenOneGroup = group;\nTweenOne.easing = _easing;\nTweenOne.plugins = _plugins;\nTweenOne.ticker = _ticker;\nTweenOne.Tween = _tween;\n\nexport default TweenOne;\n\nexport var TweenOneGroup = group;\n\nexport var easing = _easing;\n\nexport var plugins = _plugins;\n\nexport var ticker = _ticker;\n\nexport var Tween = _tween;"],"sourceRoot":""}